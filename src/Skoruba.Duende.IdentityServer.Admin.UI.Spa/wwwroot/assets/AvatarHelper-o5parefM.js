import{j as c,o as b,t as P,y as A}from"./ui-vendor-B17-n605.js";import{a as s}from"./react-vendor-DPOhIiRq.js";import{a as d}from"./index-X8931wOL.js";function v(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function L(...e){return t=>{let a=!1;const r=e.map(n=>{const o=v(n,t);return!a&&typeof o=="function"&&(a=!0),o});if(a)return()=>{for(let n=0;n<r.length;n++){const o=r[n];typeof o=="function"?o():v(e[n],null)}}}}var y=s.forwardRef((e,t)=>{const{children:a,...r}=e,n=s.Children.toArray(a),o=n.find(_);if(o){const i=o.props.children,l=n.map(u=>u===o?s.Children.count(i)>1?s.Children.only(null):s.isValidElement(i)?i.props.children:null:u);return c.jsx(f,{...r,ref:t,children:s.isValidElement(i)?s.cloneElement(i,void 0,l):null})}return c.jsx(f,{...r,ref:t,children:a})});y.displayName="Slot";var f=s.forwardRef((e,t)=>{const{children:a,...r}=e;if(s.isValidElement(a)){const n=F(a);return s.cloneElement(a,{...k(r,a.props),ref:t?L(t,n):n})}return s.Children.count(a)>1?s.Children.only(null):null});f.displayName="SlotClone";var I=({children:e})=>c.jsx(c.Fragment,{children:e});function _(e){return s.isValidElement(e)&&e.type===I}function k(e,t){const a={...t};for(const r in t){const n=e[r],o=t[r];/^on[A-Z]/.test(r)?n&&o?a[r]=(...l)=>{o(...l),n(...l)}:n&&(a[r]=n):r==="style"?a[r]={...n,...o}:r==="className"&&(a[r]=[n,o].filter(Boolean).join(" "))}return{...e,...a}}function F(e){var r,n;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var V=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],p=V.reduce((e,t)=>{const a=s.forwardRef((r,n)=>{const{asChild:o,...i}=r,l=o?y:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...i,ref:n})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),m="Avatar",[M,q]=b(m),[O,h]=M(m),w=s.forwardRef((e,t)=>{const{__scopeAvatar:a,...r}=e,[n,o]=s.useState("idle");return c.jsx(O,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:c.jsx(p.span,{...r,ref:t})})});w.displayName=m;var S="AvatarImage",x=s.forwardRef((e,t)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:n=()=>{},...o}=e,i=h(S,a),l=W(r,o.referrerPolicy),u=P(g=>{n(g),i.onImageLoadingStatusChange(g)});return A(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?c.jsx(p.img,{...o,ref:t,src:r}):null});x.displayName=S;var C="AvatarFallback",N=s.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:r,...n}=e,o=h(C,a),[i,l]=s.useState(r===void 0);return s.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(p.span,{...n,ref:t}):null});N.displayName=C;function W(e,t){const[a,r]=s.useState("idle");return A(()=>{if(!e){r("error");return}let n=!0;const o=new window.Image,i=l=>()=>{n&&r(l)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{n=!1}},[e,t]),a}var R=w,j=x,E=N;const $=s.forwardRef(({className:e,...t},a)=>c.jsx(R,{ref:a,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));$.displayName=R.displayName;const D=s.forwardRef(({className:e,...t},a)=>c.jsx(j,{ref:a,className:d("aspect-square h-full w-full",e),...t}));D.displayName=j.displayName;const T=s.forwardRef(({className:e,...t},a)=>c.jsx(E,{ref:a,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));T.displayName=E.displayName;function G(e){const a=e.split("@")[0].split(".");let r;return a.length===1?r=a[0].charAt(0).toUpperCase():r=a.slice(0,3).map(n=>n.charAt(0).toUpperCase()).join(""),r}export{$ as A,T as a,G as g};
