import{j as o,g as ee,S as Et,u as ve,q as Re,o as be,s as O,W as Rt,X as At,z as Ae,M as It,K as Dt,N as Lt,r as kt,H as Mt,J as _t,Z as Ot,_ as Ft,Q as Wt,y as de,U as Ht,t as F,$ as zt}from"./ui-vendor-BHgw9ghC.js";import{a as l}from"./react-vendor-BOADiDeY.js";import{F as Bt,C as Ie,a as De,f as Ut,r as $t,g as Vt,u as Xt,o as Yt,s as qt,z as Gt}from"./form-vendor-BmuYqd71.js";import{c as q,a as A,aU as Zt,D as Le,x as ke,y as Kt,z as Me,B as R,aV as Jt,aW as Pe,E as Qt,aI as er,aX as tr,aY as rr,aZ as or,Y as nr,a_ as sr,V as ar}from"./index-DAD0hXUP.js";import{I as M}from"./input-ycrf_3uL.js";import{T as ue,a as he,b as B,c as Y,d as me,e as U,S as lr,f as ir,g as cr,h as dr,i as ur}from"./table-BczK1sh7.js";import{C as hr,a as mr}from"./calendar-2y-kU49Q.js";import{u as H}from"./i18n-vendor-CiQkzSQO.js";import{C as fr}from"./circle-plus-BsVCEPVX.js";import{s as pr,d as xr}from"./DateTimeHelper-QWEMCMQL.js";import{f as vr}from"./utils-zj3SKzMM.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=q("BadgeInfo",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=q("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=q("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);var Sr="Label",Oe=l.forwardRef((e,r)=>o.jsx(ee.label,{...e,ref:r,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Oe.displayName=Sr;var Fe=Oe;const yr=Zt("text-sm font-medium leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),We=l.forwardRef(({className:e,...r},t)=>o.jsx(Fe,{ref:t,className:A(yr(),e),...r}));We.displayName=Fe.displayName;const jr=Bt,He=l.createContext({}),ze=({...e})=>o.jsx(He.Provider,{value:{name:e.name},children:o.jsx(Ie,{...e})}),te=()=>{const e=l.useContext(He),r=l.useContext(Be),{getFieldState:t,formState:n}=De(),s=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=r;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},Be=l.createContext({}),re=l.forwardRef(({className:e,...r},t)=>{const n=l.useId();return o.jsx(Be.Provider,{value:{id:n},children:o.jsx("div",{ref:t,className:A("space-y-2",e),...r})})});re.displayName="FormItem";const oe=l.forwardRef(({className:e,required:r,...t},n)=>{const{error:s,formItemId:a}=te();return o.jsxs(We,{ref:n,className:A(s&&"text-destructive",e),htmlFor:a,...t,children:[t.children,r&&o.jsx("span",{className:"text-red-500",children:" *"})]})});oe.displayName="FormLabel";const I=l.forwardRef(({...e},r)=>{const{error:t,formItemId:n,formDescriptionId:s,formMessageId:a}=te();return o.jsx(Et,{ref:r,id:n,"aria-describedby":t?`${s} ${a}`:`${s}`,"aria-invalid":!!t,...e})});I.displayName="FormControl";const Ue=l.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:n}=te();return o.jsx("p",{ref:t,id:n,className:A("text-sm text-muted-foreground",e),...r})});Ue.displayName="FormDescription";const ge=l.forwardRef(({className:e,children:r,...t},n)=>{const{error:s,formMessageId:a}=te(),i=s?String(s==null?void 0:s.message):r;return i?o.jsx("p",{ref:n,id:a,className:A("text-sm font-medium text-destructive",e),...t,children:i}):null});ge.displayName="FormMessage";var Tr=function(e,r){for(var t={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!t[i])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];t[i]={message:d.message,type:d.code}}else t[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return e.push(m)})}),r){var c=t[i].types,h=c&&c[n.code];t[i]=Vt(i,r,t,s,h?[].concat(h,n.message):n.message)}e.shift()}return t},Pr=function(e,r,t){return t===void 0&&(t={}),function(n,s,a){try{return Promise.resolve(function(i,d){try{var c=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(h){return a.shouldUseNativeValidation&&Ut({},a),{errors:{},values:t.raw?n:h}})}catch(h){return d(h)}return c&&c.then?c.then(void 0,d):c}(0,function(i){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(i))return{values:{},errors:$t(Tr(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}};const $e=l.forwardRef(({className:e,...r},t)=>o.jsx("textarea",{className:A("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));$e.displayName="Textarea";var we="Switch",[Nr,Go]=be(we),[Er,Rr]=Nr(we),Ve=l.forwardRef((e,r)=>{const{__scopeSwitch:t,name:n,checked:s,defaultChecked:a,required:i,disabled:d,value:c="on",onCheckedChange:h,form:u,...m}=e,[f,p]=l.useState(null),v=ve(r,T=>p(T)),b=l.useRef(!1),w=f?u||!!f.closest("form"):!0,[C=!1,j]=Re({prop:s,defaultProp:a,onChange:h});return o.jsxs(Er,{scope:t,checked:C,disabled:d,children:[o.jsx(ee.button,{type:"button",role:"switch","aria-checked":C,"aria-required":i,"data-state":qe(C),"data-disabled":d?"":void 0,disabled:d,value:c,...m,ref:v,onClick:O(e.onClick,T=>{j(S=>!S),w&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),w&&o.jsx(Ar,{control:f,bubbles:!b.current,name:n,value:c,checked:C,required:i,disabled:d,form:u,style:{transform:"translateX(-100%)"}})]})});Ve.displayName=we;var Xe="SwitchThumb",Ye=l.forwardRef((e,r)=>{const{__scopeSwitch:t,...n}=e,s=Rr(Xe,t);return o.jsx(ee.span,{"data-state":qe(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:r})});Ye.displayName=Xe;var Ar=e=>{const{control:r,checked:t,bubbles:n=!0,...s}=e,a=l.useRef(null),i=Rt(t),d=At(r);return l.useEffect(()=>{const c=a.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(i!==t&&m){const f=new Event("click",{bubbles:n});m.call(c,t),c.dispatchEvent(f)}},[i,t,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qe(e){return e?"checked":"unchecked"}var Ge=Ve,Ir=Ye;const Ze=l.forwardRef(({className:e,...r},t)=>o.jsx(Ge,{className:A("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:o.jsx(Ir,{className:A("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ze.displayName=Ge.displayName;var[ne,Zo]=be("Tooltip",[Ae]),se=Ae(),Ke="TooltipProvider",Dr=700,fe="tooltip.open",[Lr,Ce]=ne(Ke),Je=e=>{const{__scopeTooltip:r,delayDuration:t=Dr,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,d]=l.useState(!0),c=l.useRef(!1),h=l.useRef(0);return l.useEffect(()=>{const u=h.current;return()=>window.clearTimeout(u)},[]),o.jsx(Lr,{scope:r,isOpenDelayed:i,delayDuration:t,onOpen:l.useCallback(()=>{window.clearTimeout(h.current),d(!1)},[]),onClose:l.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>d(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:l.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:a})};Je.displayName=Ke;var ae="Tooltip",[kr,le]=ne(ae),Qe=e=>{const{__scopeTooltip:r,children:t,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:d}=e,c=Ce(ae,e.__scopeTooltip),h=se(r),[u,m]=l.useState(null),f=It(),p=l.useRef(0),v=i??c.disableHoverableContent,b=d??c.delayDuration,w=l.useRef(!1),[C=!1,j]=Re({prop:n,defaultProp:s,onChange:g=>{g?(c.onOpen(),document.dispatchEvent(new CustomEvent(fe))):c.onClose(),a==null||a(g)}}),T=l.useMemo(()=>C?w.current?"delayed-open":"instant-open":"closed",[C]),S=l.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,j(!0)},[j]),N=l.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j(!1)},[j]),E=l.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,j(!0),p.current=0},b)},[b,j]);return l.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(Dt,{...h,children:o.jsx(kr,{scope:r,contentId:f,open:C,stateAttribute:T,trigger:u,onTriggerChange:m,onTriggerEnter:l.useCallback(()=>{c.isOpenDelayed?E():S()},[c.isOpenDelayed,E,S]),onTriggerLeave:l.useCallback(()=>{v?N():(window.clearTimeout(p.current),p.current=0)},[N,v]),onOpen:S,onClose:N,disableHoverableContent:v,children:t})})};Qe.displayName=ae;var pe="TooltipTrigger",et=l.forwardRef((e,r)=>{const{__scopeTooltip:t,...n}=e,s=le(pe,t),a=Ce(pe,t),i=se(t),d=l.useRef(null),c=ve(r,d,s.onTriggerChange),h=l.useRef(!1),u=l.useRef(!1),m=l.useCallback(()=>h.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),o.jsx(Lt,{asChild:!0,...i,children:o.jsx(ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:O(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:O(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:O(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:O(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:O(e.onBlur,s.onClose),onClick:O(e.onClick,s.onClose)})})});et.displayName=pe;var Mr="TooltipPortal",[Ko,_r]=ne(Mr,{forceMount:void 0}),V="TooltipContent",tt=l.forwardRef((e,r)=>{const t=_r(V,e.__scopeTooltip),{forceMount:n=t.forceMount,side:s="top",...a}=e,i=le(V,e.__scopeTooltip);return o.jsx(kt,{present:n||i.open,children:i.disableHoverableContent?o.jsx(rt,{side:s,...a,ref:r}):o.jsx(Or,{side:s,...a,ref:r})})}),Or=l.forwardRef((e,r)=>{const t=le(V,e.__scopeTooltip),n=Ce(V,e.__scopeTooltip),s=l.useRef(null),a=ve(r,s),[i,d]=l.useState(null),{trigger:c,onClose:h}=t,u=s.current,{onPointerInTransitChange:m}=n,f=l.useCallback(()=>{d(null),m(!1)},[m]),p=l.useCallback((v,b)=>{const w=v.currentTarget,C={x:v.clientX,y:v.clientY},j=zr(C,w.getBoundingClientRect()),T=Br(C,j),S=Ur(b.getBoundingClientRect()),N=Vr([...T,...S]);d(N),m(!0)},[m]);return l.useEffect(()=>()=>f(),[f]),l.useEffect(()=>{if(c&&u){const v=w=>p(w,u),b=w=>p(w,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",b)}}},[c,u,p,f]),l.useEffect(()=>{if(i){const v=b=>{const w=b.target,C={x:b.clientX,y:b.clientY},j=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),T=!$r(C,i);j?f():T&&(f(),h())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,i,h,f]),o.jsx(rt,{...e,ref:a})}),[Fr,Wr]=ne(ae,{isInside:!1}),rt=l.forwardRef((e,r)=>{const{__scopeTooltip:t,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...d}=e,c=le(V,t),h=se(t),{onClose:u}=c;return l.useEffect(()=>(document.addEventListener(fe,u),()=>document.removeEventListener(fe,u)),[u]),l.useEffect(()=>{if(c.trigger){const m=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),o.jsx(Mt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:o.jsxs(_t,{"data-state":c.stateAttribute,...h,...d,ref:r,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ot,{children:n}),o.jsx(Fr,{scope:t,isInside:!0,children:o.jsx(Ft,{id:c.contentId,role:"tooltip",children:s||n})})]})})});tt.displayName=V;var ot="TooltipArrow",Hr=l.forwardRef((e,r)=>{const{__scopeTooltip:t,...n}=e,s=se(t);return Wr(ot,t).isInside?null:o.jsx(Wt,{...s,...n,ref:r})});Hr.displayName=ot;function zr(e,r){const t=Math.abs(r.top-e.y),n=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),a=Math.abs(r.left-e.x);switch(Math.min(t,n,s,a)){case a:return"left";case s:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Br(e,r,t=5){const n=[];switch(r){case"top":n.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":n.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":n.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":n.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return n}function Ur(e){const{top:r,right:t,bottom:n,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:n},{x:s,y:n}]}function $r(e,r){const{x:t,y:n}=e;let s=!1;for(let a=0,i=r.length-1;a<r.length;i=a++){const d=r[a].x,c=r[a].y,h=r[i].x,u=r[i].y;c>n!=u>n&&t<(h-d)*(n-c)/(u-c)+d&&(s=!s)}return s}function Vr(e){const r=e.slice();return r.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),Xr(r)}function Xr(e){if(e.length<=1)return e.slice();const r=[];for(let n=0;n<e.length;n++){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var Yr=Je,qr=Qe,Gr=et,nt=tt;const Zr=Yr,Kr=qr,Jr=Gr,st=l.forwardRef(({className:e,sideOffset:r=4,maxWidth:t,...n},s)=>o.jsx(nt,{ref:s,sideOffset:r,className:A("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{...t?{maxWidth:t}:{},...n.style},...n}));st.displayName=nt.displayName;const Qr=Yt({label:qt().min(2)}),eo=({isOpen:e,onClose:r,onAddItem:t})=>{const{t:n}=H(),s=Xt({resolver:Pr(Qr),defaultValues:{label:""}}),a=i=>{t(i.label),s.reset(),r()};return o.jsx(Le,{open:e,onOpenChange:r,children:o.jsxs(ke,{className:"sm:max-w-[900px]",children:[o.jsx(Kt,{children:o.jsx(Me,{children:n("Modals.AddCustomValue")})}),o.jsx("div",{className:"m-6",children:o.jsx(jr,{...s,children:o.jsxs("form",{className:"space-y-8",children:[o.jsx(ze,{control:s.control,name:"label",render:({field:i})=>o.jsxs(re,{children:[o.jsx(oe,{children:n("Modals.Item")}),o.jsx(I,{children:o.jsx(M,{placeholder:n("Modals.Label"),...i})}),o.jsx(ge,{})]})}),o.jsx(R,{type:"button",onClick:s.handleSubmit(a),children:n("Actions.Save")})]})})})]})})},to=({initialItems:e,initialSelectedItems:r=[],onSelectedItemsChange:t})=>{const{toast:n}=Jt(),{t:s}=H(),[a,i]=l.useState([]),[d,c]=l.useState(r),[h,u]=l.useState(""),[m,f]=l.useState(""),[p,v]=l.useState(!1);l.useEffect(()=>{c(r)},[r]);const b=l.useMemo(()=>{const x=new Map;return[...e,...d,...a].forEach(y=>{x.set(y.id,y)}),Array.from(x.values())},[e,d,a]),w=x=>{c(x),t==null||t(x)},C=x=>{d.find(y=>y.id===x.id)||w([...d,x])},j=x=>{w(d.filter(y=>y.id!==x.id))},T=x=>{const y={id:x,label:x};if(d.some(_=>_.id===x)){n({variant:"destructive",title:`Item "${x}" is already selected`});return}b.some(_=>_.id===x)||i(_=>_.some(Nt=>Nt.id===x)?_:[..._,y]),w([...d,y]),n({title:`Item "${x}" has been added`})},S=()=>{const x=b.filter(y=>!d.find(k=>k.id===y.id));w([...d,...x])},N=()=>{w([])},E=l.useMemo(()=>b.filter(x=>!d.some(y=>y.id===x.id)),[b,d]),g=l.useMemo(()=>E.filter(x=>x.label.toLowerCase().includes(h.toLowerCase())),[E,h]),P=l.useMemo(()=>d.filter(x=>x.label.toLowerCase().includes(m.toLowerCase())),[d,m]);return o.jsxs("div",{className:"flex w-full gap-x-4",children:[o.jsxs("div",{className:"flex flex-col basis-1/2 overflow-hidden",children:[o.jsx(R,{type:"button",variant:"secondary",onClick:S,className:"mb-2",children:s("Components.DualListSelector.SelectAll")}),o.jsx(M,{value:h,onChange:x=>u(x.target.value),placeholder:s("Components.DualListSelector.SearchPlaceholder")}),o.jsx(Pe,{className:"mt-6"}),o.jsx("div",{className:"flex-grow overflow-auto max-h-[300px]",children:o.jsxs(ue,{children:[o.jsx(he,{children:o.jsx(B,{children:o.jsx(Y,{children:s("Components.DualListSelector.Name")})})}),o.jsx(me,{children:g.map(x=>o.jsxs(B,{children:[o.jsx(U,{className:"truncate",children:x.label}),o.jsx(U,{children:o.jsx(R,{type:"button",variant:"secondary",onClick:()=>C(x),children:o.jsx(gr,{})})})]},x.id))})]})})]}),o.jsxs("div",{className:"flex flex-col basis-1/2 overflow-hidden pl-2",children:[o.jsx(R,{type:"button",onClick:N,variant:"destructive",className:"mb-2",children:s("Components.DualListSelector.DeselectAll")}),o.jsx(M,{value:m,onChange:x=>f(x.target.value),placeholder:s("Components.DualListSelector.SearchPlaceholder")}),o.jsx(Pe,{className:"mt-6"}),o.jsx("div",{className:"flex-grow overflow-auto max-h-[300px]",children:o.jsxs(ue,{children:[o.jsx(he,{children:o.jsxs(B,{children:[o.jsx(Y,{children:s("Components.DualListSelector.Name")}),o.jsx(Y,{className:"flex justify-end",children:o.jsxs(R,{onClick:()=>v(!0),variant:"secondary",className:"ms-4 mt-1",type:"button",children:[o.jsx(fr,{className:"w-5 h-5 me-1"})," ",s("Actions.Add")]})})]})}),o.jsx(me,{children:P.map(x=>o.jsxs(B,{children:[o.jsx(U,{children:o.jsx(R,{variant:"destructive",onClick:()=>j(x),type:"button",children:o.jsx(br,{})})}),o.jsx(U,{className:"truncate",children:x.label})]},x.id))})]})}),o.jsx(eo,{isOpen:p,onClose:()=>v(!1),onAddItem:T})]})]})},ro=({control:e,name:r,initialItems:t,initialSelectedItems:n=[]})=>o.jsx(Ie,{control:e,name:r,render:({field:{onChange:s,value:a}})=>o.jsx(to,{initialItems:t,initialSelectedItems:a||n,onSelectedItemsChange:i=>s(i)})});function Ne(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function at(...e){return r=>{let t=!1;const n=e.map(s=>{const a=Ne(s,r);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Ne(e[s],null)}}}}function z(...e){return l.useCallback(at(...e),e)}var lt=l.forwardRef((e,r)=>{const{children:t,...n}=e,s=l.Children.toArray(t),a=s.find(no);if(a){const i=a.props.children,d=s.map(c=>c===a?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:c);return o.jsx(xe,{...n,ref:r,children:l.isValidElement(i)?l.cloneElement(i,void 0,d):null})}return o.jsx(xe,{...n,ref:r,children:t})});lt.displayName="Slot";var xe=l.forwardRef((e,r)=>{const{children:t,...n}=e;if(l.isValidElement(t)){const s=ao(t);return l.cloneElement(t,{...so(n,t.props),ref:r?at(r,s):s})}return l.Children.count(t)>1?l.Children.only(null):null});xe.displayName="SlotClone";var oo=({children:e})=>o.jsx(o.Fragment,{children:e});function no(e){return l.isValidElement(e)&&e.type===oo}function so(e,r){const t={...r};for(const n in r){const s=e[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?t[n]=(...d)=>{a(...d),s(...d)}:s&&(t[n]=s):n==="style"?t[n]={...s,...a}:n==="className"&&(t[n]=[s,a].filter(Boolean).join(" "))}return{...e,...t}}function ao(e){var n,s;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var lo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],G=lo.reduce((e,r)=>{const t=l.forwardRef((n,s)=>{const{asChild:a,...i}=n,d=a?lt:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...i,ref:s})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function io(e,r){return l.useReducer((t,n)=>r[t][n]??t,e)}var Z=e=>{const{present:r,children:t}=e,n=co(r),s=typeof t=="function"?t({present:n.isPresent}):l.Children.only(t),a=z(n.ref,uo(s));return typeof t=="function"||n.isPresent?l.cloneElement(s,{ref:a}):null};Z.displayName="Presence";function co(e){const[r,t]=l.useState(),n=l.useRef({}),s=l.useRef(e),a=l.useRef("none"),i=e?"mounted":"unmounted",[d,c]=io(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const h=K(n.current);a.current=d==="mounted"?h:"none"},[d]),de(()=>{const h=n.current,u=s.current;if(u!==e){const f=a.current,p=K(h);e?c("MOUNT"):p==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),de(()=>{if(r){let h;const u=r.ownerDocument.defaultView??window,m=p=>{const b=K(n.current).includes(p.animationName);if(p.target===r&&b&&(c("ANIMATION_END"),!s.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",h=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},f=p=>{p.target===r&&(a.current=K(n.current))};return r.addEventListener("animationstart",f),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{u.clearTimeout(h),r.removeEventListener("animationstart",f),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:l.useCallback(h=>{h&&(n.current=getComputedStyle(h)),t(h)},[])}}function K(e){return(e==null?void 0:e.animationName)||"none"}function uo(e){var n,s;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function W(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function ho(e,r){return l.useReducer((t,n)=>r[t][n]??t,e)}var Se="ScrollArea",[it,Jo]=be(Se),[mo,D]=it(Se),ct=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[d,c]=l.useState(null),[h,u]=l.useState(null),[m,f]=l.useState(null),[p,v]=l.useState(null),[b,w]=l.useState(null),[C,j]=l.useState(0),[T,S]=l.useState(0),[N,E]=l.useState(!1),[g,P]=l.useState(!1),x=z(r,k=>c(k)),y=Ht(s);return o.jsx(mo,{scope:t,type:n,dir:y,scrollHideDelay:a,scrollArea:d,viewport:h,onViewportChange:u,content:m,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:E,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:g,onScrollbarYEnabledChange:P,onCornerWidthChange:j,onCornerHeightChange:S,children:o.jsx(G.div,{dir:y,...i,ref:x,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});ct.displayName=Se;var dt="ScrollAreaViewport",ut=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,children:n,nonce:s,...a}=e,i=D(dt,t),d=l.useRef(null),c=z(r,d,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(G.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ut.displayName=dt;var L="ScrollAreaScrollbar",ye=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=D(L,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,d=e.orientation==="horizontal";return l.useEffect(()=>(d?a(!0):i(!0),()=>{d?a(!1):i(!1)}),[d,a,i]),s.type==="hover"?o.jsx(fo,{...n,ref:r,forceMount:t}):s.type==="scroll"?o.jsx(po,{...n,ref:r,forceMount:t}):s.type==="auto"?o.jsx(ht,{...n,ref:r,forceMount:t}):s.type==="always"?o.jsx(je,{...n,ref:r}):null});ye.displayName=L;var fo=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=D(L,e.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const d=s.scrollArea;let c=0;if(d){const h=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Z,{present:t||a,children:o.jsx(ht,{"data-state":a?"visible":"hidden",...n,ref:r})})}),po=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=D(L,e.__scopeScrollArea),a=e.orientation==="horizontal",i=ce(()=>c("SCROLL_END"),100),[d,c]=ho("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,s.scrollHideDelay,c]),l.useEffect(()=>{const h=s.viewport,u=a?"scrollLeft":"scrollTop";if(h){let m=h[u];const f=()=>{const p=h[u];m!==p&&(c("SCROLL"),i()),m=p};return h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,a,c,i]),o.jsx(Z,{present:t||d!=="hidden",children:o.jsx(je,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:W(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:W(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ht=l.forwardRef((e,r)=>{const t=D(L,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=l.useState(!1),d=e.orientation==="horizontal",c=ce(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?h:u)}},10);return X(t.viewport,c),X(t.content,c),o.jsx(Z,{present:n||a,children:o.jsx(je,{"data-state":a?"visible":"hidden",...s,ref:r})})}),je=l.forwardRef((e,r)=>{const{orientation:t="vertical",...n}=e,s=D(L,e.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[d,c]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=vt(d.viewport,d.content),u={...n,sizes:d,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function m(f,p){return Co(f,i.current,d,p)}return t==="horizontal"?o.jsx(xo,{...u,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,p=Ee(f,d,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=m(f,s.dir))}}):t==="vertical"?o.jsx(vo,{...u,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,p=Ee(f,d);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=m(f))}}):null}),xo=l.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...s}=e,a=D(L,e.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=z(r,c,a.onScrollbarXChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),o.jsx(ft,{"data-orientation":"horizontal",...s,ref:h,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ie(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),gt(f,m)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Q(i.paddingLeft),paddingEnd:Q(i.paddingRight)}})}})}),vo=l.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...s}=e,a=D(L,e.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=z(r,c,a.onScrollbarYChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),o.jsx(ft,{"data-orientation":"vertical",...s,ref:h,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ie(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),gt(f,m)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Q(i.paddingTop),paddingEnd:Q(i.paddingBottom)}})}})}),[bo,mt]=it(L),ft=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:h,onWheelScroll:u,onResize:m,...f}=e,p=D(L,t),[v,b]=l.useState(null),w=z(r,x=>b(x)),C=l.useRef(null),j=l.useRef(""),T=p.viewport,S=n.content-n.viewport,N=F(u),E=F(c),g=ce(m,10);function P(x){if(C.current){const y=x.clientX-C.current.left,k=x.clientY-C.current.top;h({x:y,y:k})}}return l.useEffect(()=>{const x=y=>{const k=y.target;(v==null?void 0:v.contains(k))&&N(y,S)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[T,v,S,N]),l.useEffect(E,[n,E]),X(v,g),X(p.content,g),o.jsx(bo,{scope:t,scrollbar:v,hasThumb:s,onThumbChange:F(a),onThumbPointerUp:F(i),onThumbPositionChange:E,onThumbPointerDown:F(d),children:o.jsx(G.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:W(e.onPointerDown,x=>{x.button===0&&(x.target.setPointerCapture(x.pointerId),C.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(x))}),onPointerMove:W(e.onPointerMove,P),onPointerUp:W(e.onPointerUp,x=>{const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),C.current=null})})})}),J="ScrollAreaThumb",pt=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=mt(J,e.__scopeScrollArea);return o.jsx(Z,{present:t||s.hasThumb,children:o.jsx(go,{ref:r,...n})})}),go=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,style:n,...s}=e,a=D(J,t),i=mt(J,t),{onThumbPositionChange:d}=i,c=z(r,m=>i.onThumbChange(m)),h=l.useRef(void 0),u=ce(()=>{h.current&&(h.current(),h.current=void 0)},100);return l.useEffect(()=>{const m=a.viewport;if(m){const f=()=>{if(u(),!h.current){const p=So(m,d);h.current=p,d()}};return d(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[a.viewport,u,d]),o.jsx(G.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:W(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),v=m.clientX-p.left,b=m.clientY-p.top;i.onThumbPointerDown({x:v,y:b})}),onPointerUp:W(e.onPointerUp,i.onThumbPointerUp)})});pt.displayName=J;var Te="ScrollAreaCorner",xt=l.forwardRef((e,r)=>{const t=D(Te,e.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?o.jsx(wo,{...e,ref:r}):null});xt.displayName=Te;var wo=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,...n}=e,s=D(Te,t),[a,i]=l.useState(0),[d,c]=l.useState(0),h=!!(a&&d);return X(s.scrollbarX,()=>{var m;const u=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),X(s.scrollbarY,()=>{var m;const u=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),h?o.jsx(G.div,{...n,ref:r,style:{width:a,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Q(e){return e?parseInt(e,10):0}function vt(e,r){const t=e/r;return isNaN(t)?0:t}function ie(e){const r=vt(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-t)*r;return Math.max(n,18)}function Co(e,r,t,n="ltr"){const s=ie(t),a=s/2,i=r||a,d=s-i,c=t.scrollbar.paddingStart+i,h=t.scrollbar.size-t.scrollbar.paddingEnd-d,u=t.content-t.viewport,m=n==="ltr"?[0,u]:[u*-1,0];return bt([c,h],m)(e)}function Ee(e,r,t="ltr"){const n=ie(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=r.scrollbar.size-s,i=r.content-r.viewport,d=a-n,c=t==="ltr"?[0,i]:[i*-1,0],h=zt(e,c);return bt([0,i],[0,d])(h)}function bt(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}function gt(e,r){return e>0&&e<r}var So=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=t.left!==a.left,d=t.top!==a.top;(i||d)&&r(),t=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ce(e,r){const t=F(e),n=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),l.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function X(e,r){const t=F(r);de(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,t])}var wt=ct,yo=ut,jo=xt;const Ct=l.forwardRef(({className:e,children:r,...t},n)=>o.jsxs(wt,{ref:n,className:A("relative overflow-hidden",e),...t,children:[o.jsx(yo,{className:"h-full w-full rounded-[inherit]",children:r}),o.jsx(St,{}),o.jsx(jo,{})]}));Ct.displayName=wt.displayName;const St=l.forwardRef(({className:e,orientation:r="vertical",...t},n)=>o.jsx(ye,{ref:n,orientation:r,className:A("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:o.jsx(pt,{className:"relative flex-1 rounded-full bg-border"})}));St.displayName=ye.displayName;function yt({items:e,value:r="",onChange:t,inputProps:n}){const{t:s}=H(),[a,i]=l.useState(r),[d,c]=l.useState(!1);l.useEffect(()=>{i(r)},[r]);const h=a?e.filter(m=>m.name.toLowerCase().includes(a.toLowerCase())):e,u=m=>{i(m),t(m)};return o.jsxs("div",{className:"relative w-full",children:[o.jsx("div",{className:"flex gap-2 mb-2",children:o.jsx(M,{type:"text",placeholder:s("Components.SearchDropdown.Search"),value:a,onChange:m=>u(m.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),...n})}),d&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-popover border border-border rounded-md shadow-lg",children:o.jsx(Ct,{className:"h-[320px]",children:h.map(m=>o.jsx("div",{className:"flex items-center p-2 cursor-pointer hover:bg-accent",onClick:()=>{u(m.name),c(!1)},children:o.jsx("span",{children:m.name})},m.id))})})]})}const To=({value:e=[],onChange:r,validationSchema:t,search:n=!1,searchDataSource:s=[]})=>{const{t:a}=H(),[i,d]=l.useState(e||[]),[c,h]=l.useState(""),[u,m]=l.useState(""),[f,p]=l.useState(null),[v,b]=l.useState(null),[w,C]=l.useState(null);l.useEffect(()=>{d(e||[])},[e]);const j=g=>{const x=(t||Gt.string().min(1,a("Components.InputWithTable.ItemCannotBeEmpty"))).safeParse(g);return x.success?null:x.error.errors[0].message},T=()=>{const g=j(c);if(g){b(g);return}const P=[...i,c];d(P),r(P),h(""),b(null)},S=()=>{if(f===null)return;const g=j(u);if(g){C(g);return}const P=[...i];P[f]=u,d(P),r(P),m(""),p(null),C(null)},N=g=>{const P=i.filter((x,y)=>y!==g);d(P),r(P)},E=()=>{p(null),m(""),C(null)};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex",children:[n?o.jsx(yt,{items:s,value:c,onChange:g=>h(g)}):o.jsx(M,{value:c,onChange:g=>h(g.target.value),placeholder:a("Components.InputWithTable.EnterItem"),className:v?"input-error":"",onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),T())}}),o.jsx(R,{onClick:T,type:"button",className:"ms-1",variant:"outline",children:a("Components.InputWithTable.AddItem")})]}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-medium text-destructive mt-2",children:v})}),i.length!==0&&o.jsx("div",{children:o.jsxs(ue,{children:[o.jsx(he,{children:o.jsxs(B,{children:[o.jsx(Y,{children:a("Components.InputWithTable.Item")}),o.jsx(Y,{children:a("Components.InputWithTable.Actions")})]})}),o.jsx(me,{children:i.map((g,P)=>o.jsxs(B,{children:[o.jsx(U,{children:g}),o.jsxs(U,{children:[o.jsx(R,{type:"button",className:"me-2",variant:"secondary",onClick:()=>{p(P),m(g)},children:a("Actions.Edit")}),o.jsx(R,{variant:"destructive",onClick:()=>N(P),type:"button",children:a("Actions.Delete")})]})]},P))})]})}),f!==null&&o.jsx(Le,{open:f!==null,onOpenChange:g=>!g&&E(),children:o.jsxs(ke,{children:[o.jsx(Me,{children:a("Components.InputWithTable.Edit")}),o.jsx(Qt,{children:a("Components.InputWithTable.UpdateSave")}),o.jsx(M,{value:u,onChange:g=>m(g.target.value),placeholder:a("Components.InputWithTable.EditItem")}),w&&o.jsx("p",{className:"text-sm font-medium text-destructive mt-2",children:w}),o.jsxs(er,{children:[o.jsx(R,{onClick:S,children:a("Actions.Save")}),o.jsx(tr,{asChild:!0,children:o.jsx(R,{type:"button",onClick:E,children:a("Actions.Cancel")})})]})]})})]})};var $=(e=>(e[e.None=0]="None",e[e.ClientId=1]="ClientId",e[e.SharedSecret=2]="SharedSecret",e))($||{});const jt=e=>Array.from(crypto.getRandomValues(new Uint8Array(e))).map(r=>r.toString(16).padStart(2,"0")).join(""),Po=()=>`client_${jt(16)}`,No=()=>`secret_${jt(32)}`,Tt=({children:e,description:r,side:t="right"})=>o.jsx(Zr,{delayDuration:200,children:o.jsxs(Kr,{children:[o.jsx(Jr,{asChild:!0,children:e}),o.jsx(st,{side:t,maxWidth:"600px",children:o.jsx("p",{children:r})})]})}),Eo=({field:e,label:r,description:t,required:n})=>o.jsxs(re,{className:"flex flex-row items-center justify-between rounded-lg border p-4 mt-4",children:[o.jsx("div",{className:"space-y-0.5",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(oe,{required:n,children:r}),t&&o.jsx(Tt,{description:t,children:o.jsx(_e,{className:"ml-2 text-muted-foreground cursor-pointer",size:16})})]})}),o.jsx(I,{children:o.jsx(Ze,{checked:!!e.value,onCheckedChange:e.onChange})})]}),Ro=({field:e,placeholder:r,generateRandomValue:t,copyToClipboard:n,maxLength:s,inputType:a="text"})=>{const{t:i}=H(),d=()=>{e.value!==null&&e.value!==void 0&&navigator.clipboard.writeText(String(e.value)).then(()=>{ar({title:i("Components.FormRow.CopiedToClipboard")})})},c=()=>{t===$.SharedSecret?e.onChange(No()):t===$.ClientId&&e.onChange(Po())};return o.jsx(I,{children:o.jsxs("div",{className:t?"flex":"",children:[o.jsx(M,{placeholder:r,name:e.name,value:typeof e.value=="string"||typeof e.value=="number"?e.value:"",onChange:e.onChange,onBlur:e.onBlur,ref:e.ref,autoComplete:"off",maxLength:s,type:a}),[$.ClientId,$.SharedSecret].includes(t)&&o.jsx(R,{type:"button",onClick:c,className:"ms-1",variant:"outline",children:o.jsx(Cr,{})}),n&&o.jsx(R,{type:"button",variant:"outline",onClick:d,className:"ms-1",disabled:e.value===null||e.value===void 0||e.value==="",children:o.jsx(wr,{})})]})})},Ao=({field:e,placeholder:r,maxLength:t})=>o.jsx(I,{children:o.jsx($e,{placeholder:r,name:e.name,value:typeof e.value=="string"?e.value:"",onChange:e.onChange,onBlur:e.onBlur,ref:e.ref,className:"resize-none",maxLength:t})}),Io=({field:e,options:r})=>{const{t}=H();return o.jsx(I,{children:o.jsxs(lr,{onValueChange:e.onChange,defaultValue:typeof e.value=="string"?e.value:void 0,value:typeof e.value=="string"?e.value:"",children:[o.jsx(ir,{children:o.jsx(cr,{placeholder:t("Components.FormRow.SelectOption")})}),o.jsx(dr,{children:r.map(n=>o.jsx(ur,{value:n.value,children:n.label},n.value))})]})})},Do=({field:e,control:r,initialItems:t})=>o.jsx(I,{children:o.jsx(ro,{control:r,initialItems:t,name:e.name})}),Lo=({field:e})=>{const{t:r}=H(),t=e.value instanceof Date?e.value:void 0,n=s=>{s.stopPropagation(),e.onChange(null)};return o.jsx(I,{children:o.jsxs(rr,{children:[o.jsx(or,{asChild:!0,children:o.jsx("div",{className:"relative w-full",children:o.jsxs(R,{type:"button",variant:"outline",className:A("w-full pl-3 pr-10 justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[t?vr(t,"PPP"):o.jsx("span",{children:r("Components.FormRow.PickDate")}),o.jsx(hr,{className:"absolute right-8 top-1/2 h-4 w-4 -translate-y-1/2 opacity-50"}),t&&o.jsx("span",{onClick:n,className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-destructive cursor-pointer",children:o.jsx(nr,{className:"h-4 w-4"})})]})})}),o.jsx(sr,{className:"w-auto p-0",align:"start",children:o.jsx(mr,{mode:"single",selected:t,onSelect:s=>e.onChange(s??null),initialFocus:!0})})]})})},ko=({field:e})=>o.jsx(I,{children:o.jsx(M,{type:"time",value:typeof e.value=="string"?e.value:"",onChange:e.onChange,onBlur:e.onBlur,ref:e.ref,className:"w-full"})}),Mo=({field:e,placeholder:r,showFormattedTime:t=!0})=>o.jsxs(o.Fragment,{children:[o.jsx(I,{children:o.jsx(M,{type:"number",value:typeof e.value=="number"||typeof e.value=="string"?e.value:"",onChange:n=>{const s=n.target.value;e.onChange(s===""?void 0:Number(s))},onBlur:e.onBlur,ref:e.ref,className:"w-full",placeholder:r})}),t&&typeof e.value=="number"&&o.jsx(Ue,{className:"ms-2",children:pr({seconds:e.value,labels:xr})})]}),_o=({field:e,validationSchema:r,search:t,searchDataSource:n})=>o.jsx(I,{children:o.jsx(To,{value:Array.isArray(e.value)?e.value:void 0,onChange:e.onChange,validationSchema:r,search:t,searchDataSource:n})}),Oo=({field:e,items:r})=>o.jsx(I,{children:o.jsx(yt,{items:r,value:typeof e.value=="string"?e.value:"",onChange:e.onChange})}),Qo=({name:e,label:r,description:t,placeholder:n,className:s,required:a=!1,type:i="input",selectSettings:{options:d}={options:[]},inputSettings:{copyToClipboard:c=!1,generateRandomValue:h=$.None}={},dualListSettings:{initialItems:u}={initialItems:[]},searchDropdownSettings:{items:m}={items:[]},includeSeparator:f=!1,inputWithTableSettings:{validationSchema:p,search:v,searchDataSource:b}={validationSchema:void 0,search:!1,searchDataSource:[]},numberSettings:{showFormattedTime:w=!0}={},maxLength:C,inputType:j="text"})=>{const{control:T}=De();return o.jsxs(o.Fragment,{children:[o.jsx(ze,{control:T,name:e,render:({field:S})=>o.jsx(o.Fragment,{children:i==="switch"?o.jsx(Eo,{field:S,label:r,description:t,required:a}):o.jsxs(re,{className:s,children:[o.jsxs("div",{className:"flex items-center mt-4",children:[o.jsx(oe,{required:a,children:r}),t&&o.jsx(Tt,{description:t,children:o.jsx(_e,{className:"ml-2 text-muted-foreground cursor-pointer",size:16})})]}),i==="input"&&o.jsx(Ro,{field:S,placeholder:n,generateRandomValue:h,copyToClipboard:c,maxLength:C,inputType:j}),i==="textarea"&&o.jsx(Ao,{field:S,placeholder:n}),i==="select"&&o.jsx(Io,{field:S,options:d}),i==="dualList"&&o.jsx(Do,{field:S,control:T,initialItems:u}),i==="searchDropdown"&&o.jsx(Oo,{field:S,items:m}),i==="date"&&o.jsx(Lo,{field:S}),i==="time"&&o.jsx(ko,{field:S}),i==="number"&&o.jsx(Mo,{field:S,placeholder:n,showFormattedTime:w}),i==="inputWithTable"&&o.jsx(_o,{field:S,validationSchema:p,search:v,searchDataSource:b}),o.jsx(ge,{})]})})}),f&&o.jsx("hr",{className:"my-4"})]})};export{gr as A,jr as F,We as L,$ as R,Cr as S,Tt as T,Qo as a,yt as b,Ze as c,Pr as t};
