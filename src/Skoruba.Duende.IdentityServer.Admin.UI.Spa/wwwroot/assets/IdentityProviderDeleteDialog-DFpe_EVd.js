import{j as l}from"./ui-vendor-B17-n605.js";import{D as v}from"./DeleteDialog-Bi4TnybK.js";import{u as p,a6 as u,j as n,aJ as P,aK as m,ad as C,V as D}from"./index-X8931wOL.js";import{u as c}from"./useMutation-DfQyNmeZ.js";import{H as f}from"./Hoorey-xTWvU1SQ.js";import{u as I,T as j}from"./i18n-vendor-TY_g4tCM.js";const d=()=>new P(C.getApiBaseUrl()),q=(t="",e=0,i=10)=>p([n.identityProviders,t,e,i],async()=>{const s=await d().get(t,e,i);return{items:(s.identityProviders??[]).map(o=>({...o,displayName:o.displayName??""})),totalCount:s.totalCount??0}}),O=()=>{const t=u();return c(async e=>await d().post(new m({...e,type:e.type,identityProviderProperties:Object.fromEntries(e.properties.map(r=>[r.key,r.value])),displayName:e.displayName})),{onSuccess:()=>{t.invalidateQueries(n.identityProviders),t.invalidateQueries(n.identityProvider)}})},E=()=>{const t=u();return c(async e=>await d().put(new m({...e,type:e.type,identityProviderProperties:Object.fromEntries(e.properties.map(r=>[r.key,r.value])),displayName:e.displayName})),{onSuccess:()=>{t.invalidateQueries(n.identityProviders),t.invalidateQueries(n.identityProvider)}})},N=()=>{const t=u();return c(async e=>await d().delete(e),{onSuccess:()=>{t.invalidateQueries(n.identityProviders)}})},H=t=>p([n.identityProvider,t],async()=>{const i=await d().get2(t),r=Object.entries(i.identityProviderProperties??{}).map(([a,y],o)=>({id:o,key:a,value:y}));return{...i,properties:r,displayName:i.displayName??"",type:i.type??""}}),K=({providerId:t,identityProviderName:e,isOpen:i,setIsOpen:r,onSuccess:s})=>{const{t:a}=I(),y=N(),o=()=>{y.mutate(Number(t),{onSuccess:()=>{D({title:l.jsx(f,{}),description:a("IdentityProvider.Actions.Deleted")}),r(!1),s==null||s()}})};return l.jsx(v,{isAlertOpen:i,setIsAlertOpen:r,title:a("IdentityProvider.DeleteConfirmTitle"),message:l.jsx(j,{i18nKey:"IdentityProvider.DeleteConfirmDescription",values:{identityProviderName:e},components:{strong:l.jsx("strong",{className:"text-destructive"})}}),handleDelete:o})};export{K as I,H as a,O as b,E as c,q as u};
