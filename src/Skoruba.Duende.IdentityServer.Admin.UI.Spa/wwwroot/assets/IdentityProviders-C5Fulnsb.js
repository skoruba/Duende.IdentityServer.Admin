import{j as e}from"./ui-vendor-BHgw9ghC.js";import{u as h}from"./useSearch-cs-Ql7IM.js";import{Z as x,_ as g,B as l,$ as v,a0 as m,aG as p,a1 as j,L as y,aH as I,a3 as f,K as P}from"./index-DAD0hXUP.js";import{I as S}from"./input-ycrf_3uL.js";import{P as C}from"./table-BczK1sh7.js";import{D as w}from"./DataTable-V4omrcUa.js";import{u as D}from"./usePaginationTable-CmJzaEWp.js";import{I as N,u as L}from"./IdentityProviderDeleteDialog-CBqZAKIe.js";import{u as M}from"./modalHooks-ejr9IXPU.js";import{u as c}from"./i18n-vendor-CiQkzSQO.js";import{E as b}from"./ellipsis-D2f4vTJH.js";import{j as u,L as A}from"./react-vendor-BOADiDeY.js";import{C as K}from"./circle-plus-BsVCEPVX.js";import"./utils-zj3SKzMM.js";import"./Card-C9DSQP6u.js";import"./table-vendor-48jR4ZlK.js";import"./DeleteDialog-Bik0suhb.js";import"./alert-dialog-CIYdOZwQ.js";import"./trash-DKFf5J9F.js";import"./useMutation-B7qVQHXu.js";import"./Hoorey-C6uL5-tj.js";import"./circle-check-big-Ciq8fzmZ.js";const T=({provider:t})=>{const{t:s}=c(),i=u(),r=M();return e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(l,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:s("Common.OpenMenu")}),e.jsx(b,{className:"h-4 w-4"})]})}),e.jsxs(v,{align:"end",children:[e.jsx(m,{onClick:()=>i(p.replace(":providerId",t.id.toString())),children:s("Actions.Edit")}),e.jsx(j,{}),e.jsx(m,{variant:"destructive",onClick:()=>r.openModal(),children:s("Actions.Delete")})]})]}),e.jsx(N,{providerId:t.id.toString(),identityProviderName:t.scheme,isOpen:r.isOpen,setIsOpen:r.setValue,onSuccess:()=>{r.closeModal()}})]})},k=({searchTerm:t})=>{const{t:s}=c(),{pagination:i,setPagination:r}=D(),{data:o,isLoading:a}=L(t,i.pageIndex,i.pageSize),d=[{accessorKey:"scheme",header:s("IdentityProvider.Section.Label.Scheme_Label"),cell:({row:n})=>e.jsx(A,{to:p.replace(":providerId",n.original.id.toString()),className:"underline",children:n.original.scheme})},{accessorKey:"displayName",header:s("IdentityProvider.Section.Label.DisplayName_Label")},{id:"actions",cell:({row:n})=>e.jsx(T,{provider:n.original})}];return a?e.jsx(y,{fullscreen:!0}):e.jsx(w,{columns:d,data:(o==null?void 0:o.items)??[],totalCount:(o==null?void 0:o.totalCount)??0,pagination:i,setPagination:r})},re=()=>{const{t}=c(),s=u(),{inputValue:i,handleInputChange:r,handleSearch:o,handleInputKeyDown:a,searchTerm:d}=h(),n=e.jsxs("div",{className:"flex flex-col space-y-3 md:flex-row md:items-center md:space-x-3 md:space-y-0",children:[e.jsxs(l,{onClick:()=>s(I),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),t("IdentityProvider.Actions.Add")]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(S,{type:"text",placeholder:t("IdentityProvider.Search"),className:"pr-10",value:i,onChange:r,onKeyDown:a}),e.jsx(f,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),e.jsx(l,{variant:"secondary",onClick:o,children:t("Actions.Search")})]});return e.jsx(C,{title:t("IdentityProvider.PageTitle"),icon:P,accentKind:"providers",topSection:n,children:e.jsx(k,{searchTerm:d})})};export{re as default};
