import{j as e}from"./ui-vendor-B17-n605.js";import{a as r,R as o}from"./FormRow-BJ2vApYT.js";import{c,L as p}from"./index-ho5AqpLY.js";import{q as d}from"./ClientServices-DO0WL_Uf.js";import{z as i}from"./form-vendor-DdiMXTjA.js";import{C as m,d as x}from"./Card-CeDusV90.js";import{c as u}from"./index-DK_YO7nE.js";import{u as l}from"./i18n-vendor-TY_g4tCM.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=c("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),y=({children:t,className:a})=>{const{t:s}=l();return e.jsx(m,{className:u("border-l-4 border-l-red-500",a),children:e.jsx(x,{className:"p-2",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(h,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"space-y-3 w-full",children:e.jsxs("p",{className:"text-sm text-muted-foreground mt-0",children:[e.jsxs("span",{className:"font-medium mr-1 text-red-500",children:[s("Actions.Warning"),":"]}),t]})})]})})})},V={secretType:"SharedSecret",secretValue:"",secretHashType:"sha256",secretDescription:"",expiration:null,expirationTime:null,addExpiration:!1},_=t=>i.object({secretType:i.string().min(1,{message:t("Validation.SecretTypeRequired")}),secretValue:i.string().min(1,{message:t("Validation.SecretValueRequired")}),secretHashType:i.enum(["sha256","sha512"],{required_error:t("Validation.SecretHashTypeRequired")}).optional(),secretDescription:i.string().optional(),expiration:i.date().nullable(),expirationTime:i.string().nullable(),addExpiration:i.boolean().default(!1)}).superRefine((a,s)=>{a.addExpiration&&(a.expiration||s.addIssue({code:"custom",message:t("Validation.ExpirationDateRequired"),path:["expiration"]}),a.expirationTime||s.addIssue({code:"custom",message:t("Validation.ExpirationTimeRequired"),path:["expirationTime"]})),a.secretType==="SharedSecret"&&!a.secretHashType&&s.addIssue({code:"custom",message:t("Validation.SecretHashTypeRequiredForSharedSecret"),path:["secretHashType"]})}),N=({form:t})=>{const{t:a}=l(),{data:s,isLoading:n}=d();return n?e.jsx(p,{}):e.jsxs(e.Fragment,{children:[e.jsx(r,{required:!0,name:"secretType",label:a("Client.Label.SecretType_Label"),description:a("Client.Label.SecretType_Info"),type:"select",selectSettings:{options:s}}),e.jsx("hr",{className:"my-4"}),t.watch("secretType")==="SharedSecret"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{required:!0,name:"secretHashType",label:a("Client.Label.HashType_Label"),description:a("Client.Label.HashType_Info"),type:"select",selectSettings:{options:[{value:"sha256",label:"SHA-256"},{value:"sha512",label:"SHA-512"}]}})," ",e.jsx("hr",{className:"my-4"})]}),e.jsx(r,{required:!0,name:"secretValue",label:a("Client.Label.SecretValue_Label"),description:a("Client.Label.SecretValue_Info"),placeholder:a("Client.Label.SecretValue_Label"),inputType:"password",inputSettings:{generateRandomValue:o.SharedSecret,copyToClipboard:!0}}),e.jsx(y,{className:"mt-2",children:a("ClientSecret.ValueWarning")}),e.jsx("hr",{className:"my-4"}),e.jsx(r,{name:"secretDescription",label:a("Client.Label.SecretDescription_Label"),description:a("Client.Label.SecretDescription_Info"),type:"textarea"}),e.jsx("hr",{className:"my-4"}),e.jsx(r,{name:"addExpiration",label:a("Client.Label.Expiration_Label"),description:a("Client.Label.Expiration_Info"),type:"switch"}),t.watch("addExpiration")&&e.jsxs("div",{className:"flex gap-6 mt-4",children:[e.jsx(r,{name:"expiration",label:a("Client.Label.ExpirationDate_Label"),description:a("Client.Label.ExpirationDate_Info"),type:"date",className:"flex-1"}),e.jsx(r,{name:"expirationTime",label:a("Client.Label.ExpirationTime_Label"),description:a("Client.Label.ExpirationTime_Info"),type:"time",className:"flex-1"})]})]})};export{N as S,_ as c,V as d};
