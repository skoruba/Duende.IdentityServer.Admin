import{j as e}from"./ui-vendor-B17-n605.js";import{u as j}from"./useSearch-BBsz3WbR.js";import{ar as y,u,a3 as U,B as b,h as L,L as S,R as P,j as p}from"./index-IoJ-2H-o.js";import{a as R,i as v}from"./RoleService-D8iUiUIb.js";import{P as I}from"./table-Cq50mxip.js";import{u as N}from"./usePaginationTable-07dZaguv.js";import{I as T}from"./input-CwW2d8cA.js";import{D as K}from"./DataTable-BL4SQRvr.js";import{A as k,a as w,g as C}from"./AvatarHelper-B9FlELam.js";import{u as h}from"./i18n-vendor-TY_g4tCM.js";import{L as A,k as D}from"./react-vendor-DPOhIiRq.js";import{B}from"./Breadcrumbs-e3K1EmuN.js";import"./utils-BBmT1Bs5.js";import"./useMutation-Cp5GjrFm.js";import"./NumberHelper-XebQMFVY.js";import"./Card-CIv9Y096.js";import"./table-vendor-Cc_vDqy9.js";const E=({data:a,pagination:r,setPagination:l})=>{const{t:s}=h(),i=[{header:"",accessorKey:"id",cell:({row:o})=>{const t=o.original;return e.jsx(k,{children:e.jsx(w,{children:C(t.email)})})}},{accessorKey:"userName",header:s("User.Section.Label.UserUserName_Label"),cell:({row:o})=>{const t=o.original;return e.jsx(A,{to:y.replace(":userId",t.id.toString()),className:"underline",children:t.userName})}},{accessorKey:"email",header:s("User.Section.Label.UserEmail_Label")}];return e.jsx(K,{columns:i,data:a.items,totalCount:a.totalCount,pagination:r,setPagination:l})},ae=()=>{var d;const{roleId:a}=D(),{pagination:r,setPagination:l}=N(),{t:s}=h(),{inputValue:i,handleInputChange:o,handleSearch:t,handleInputKeyDown:g,searchTerm:m}=j({onSearchComplete:()=>{l({...r,pageIndex:0})}}),n=u([p.role,a],()=>R(a),{enabled:!!a}),c=u([p.roleUsers,a,r,m],()=>v(a,m,r.pageIndex,r.pageSize),{enabled:!!a,keepPreviousData:!0}),x=e.jsxs("div",{className:"flex flex-col space-y-3 md:flex-row md:items-center md:space-x-3 md:space-y-0",children:[e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(T,{type:"text",placeholder:s("Users.SearchPlaceholder"),className:"pr-10",value:i,onChange:o,onKeyDown:g}),e.jsx(U,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),e.jsx(b,{variant:"secondary",onClick:t,children:s("Actions.Search")})]}),f=n.isLoading||!n.data?s("Role.Users.PageTitle"):`${s("Role.Users.PageTitle")} - ${n.data.name}`;return e.jsx(I,{title:f,icon:L,accentKind:"identity",breadcrumb:e.jsx(B,{items:[{url:P,name:s("Roles.PageTitle")},{name:((d=n.data)==null?void 0:d.name)??""}]}),topSection:x,children:n.isLoading||c.isLoading?e.jsx(S,{fullscreen:!0}):c.data?e.jsx(E,{data:c.data,pagination:r,setPagination:l}):null})};export{ae as default};
