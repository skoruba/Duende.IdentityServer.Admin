import{j as y}from"./ui-vendor-B17-n605.js";import{D as p}from"./DeleteDialog-DT4WGC6g.js";import{u as v,a6 as u,j as n,aJ as P,aK as m,ad as C,V as D}from"./index-Wlv9NPcq.js";import{u as c}from"./useMutation-D1x_VNBj.js";import{H as f}from"./Hoorey-C8E0EA7s.js";import{u as I,T as j}from"./i18n-vendor-TY_g4tCM.js";const d=()=>new P(C.getApiBaseUrl()),q=(t="",e=0,r=10)=>v([n.identityProviders,t,e,r],async()=>{const s=await d().get(t,e,r);return{items:(s.identityProviders??[]).map(o=>({...o,displayName:o.displayName??""})),totalCount:s.totalCount??0}}),O=()=>{const t=u();return c(async e=>await d().post(new m({...e,type:e.type,identityProviderProperties:Object.fromEntries(e.properties.map(i=>[i.key,i.value])),displayName:e.displayName??void 0})),{onSuccess:()=>{t.invalidateQueries(n.identityProviders),t.invalidateQueries(n.identityProvider)}})},E=()=>{const t=u();return c(async e=>await d().put(new m({...e,type:e.type,identityProviderProperties:Object.fromEntries(e.properties.map(i=>[i.key,i.value])),displayName:e.displayName??void 0})),{onSuccess:()=>{t.invalidateQueries(n.identityProviders),t.invalidateQueries(n.identityProvider)}})},w=()=>{const t=u();return c(async e=>await d().delete(e),{onSuccess:()=>{t.invalidateQueries(n.identityProviders)}})},H=t=>v([n.identityProvider,t],async()=>{const r=await d().get2(t),i=Object.entries(r.identityProviderProperties??{}).map(([a,l],o)=>({id:o,key:a,value:l}));return{...r,properties:i}}),K=({providerId:t,identityProviderName:e,isOpen:r,setIsOpen:i,onSuccess:s})=>{const{t:a}=I(),l=w(),o=()=>{l.mutate(Number(t),{onSuccess:()=>{D({title:y.jsx(f,{}),description:a("IdentityProvider.Actions.Deleted")}),i(!1),s==null||s()}})};return y.jsx(p,{isAlertOpen:r,setIsAlertOpen:i,title:a("IdentityProvider.DeleteConfirmTitle"),message:y.jsx(j,{i18nKey:"IdentityProvider.DeleteConfirmDescription",values:{identityProviderName:e},components:{strong:y.jsx("strong",{className:"text-destructive"})}}),handleDelete:o})};export{K as I,H as a,O as b,E as c,q as u};
