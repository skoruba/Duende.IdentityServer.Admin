import{j as e}from"./ui-vendor-B17-n605.js";import{u as j}from"./useSearch-BBsz3WbR.js";import{Z as U,_ as f,B as c,$ as N,a0 as p,ar as u,a1 as v,o as w,u as y,as as C,a3 as S,U as D,L as I,j as b}from"./index-DVaCOlPw.js";import{U as A,g as L}from"./UserDeleteDialog-CMD-4-n8.js";import{P as M}from"./table-BGjshbTt.js";import{u as P}from"./usePaginationTable-07dZaguv.js";import{I as k}from"./input-BXtLITbC.js";import{D as E}from"./DataTable-CuhqpYks.js";import{u as K}from"./modalHooks-CXBaxWb4.js";import{u as m}from"./i18n-vendor-TY_g4tCM.js";import{E as T}from"./ellipsis-BsexDyDf.js";import{j as h,L as O}from"./react-vendor-DPOhIiRq.js";import{A as F,a as _,g as B}from"./AvatarHelper-CS24T6-f.js";import{C as V}from"./circle-plus-DA3BdJZL.js";import"./utils-BBmT1Bs5.js";import"./DeleteDialog-DMd7seyE.js";import"./alert-dialog-CVXOTxzg.js";import"./trash-c4wphaJi.js";import"./useMutation-B5d3wT4v.js";import"./DateTimeHelper-8fem5lKY.js";import"./Hoorey-DI6EUxZF.js";import"./circle-check-big-ChNQ3xjz.js";import"./Card-DWFSUPWV.js";import"./table-vendor-Cc_vDqy9.js";const $=({user:s})=>{const{t:r}=m(),a=h(),t=K();return e.jsxs(e.Fragment,{children:[e.jsxs(U,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:r("Common.OpenMenu")}),e.jsx(T,{className:"h-4 w-4"})]})}),e.jsxs(N,{align:"end",children:[e.jsx(p,{onClick:()=>a(u.replace(":userId",s.id.toString())),children:r("Actions.Edit")}),e.jsx(v,{}),e.jsx(p,{variant:"destructive",onClick:()=>t.openModal(),children:r("Actions.Delete")})]})]}),e.jsx(A,{userId:s.id,userName:s.userName,isOpen:t.isOpen,setIsOpen:t.setValue,onSuccess:()=>a(w)})]})},q=({data:s,pagination:r,setPagination:a})=>{const{t}=m(),i=[{header:"",accessorKey:"id",cell:({row:n})=>{const o=n.original;return e.jsx(F,{children:e.jsx(_,{children:B(o.email)})})}},{accessorKey:"userName",header:t("User.Section.Label.UserUserName_Label"),cell:({row:n})=>{const o=n.original;return e.jsx(O,{to:u.replace(":userId",o.id.toString()),className:"underline",children:o.userName})}},{accessorKey:"email",header:t("User.Section.Label.UserEmail_Label")},{id:"actions",cell:({row:n})=>e.jsx($,{user:n.original})}];return e.jsx(E,{columns:i,data:s.items,totalCount:s.totalCount,pagination:r,setPagination:a})},he=()=>{const{pagination:s,setPagination:r}=P(),{t:a}=m(),t=h(),{inputValue:i,handleInputChange:n,handleSearch:o,handleInputKeyDown:x,searchTerm:d}=j({onSearchComplete:()=>{r({...s,pageIndex:0})}}),l=y([b.users,s,d],()=>L(d,s.pageIndex,s.pageSize),{keepPreviousData:!0}),g=e.jsxs("div",{className:"flex flex-col space-y-3 md:flex-row md:items-center md:space-x-3 md:space-y-0",children:[e.jsxs(c,{onClick:()=>t(C),children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),a("Users.AddNewUser")]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(k,{type:"text",placeholder:a("Users.SearchPlaceholder"),className:"pr-10",value:i,onChange:n,onKeyDown:x}),e.jsx(S,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),e.jsx(c,{variant:"secondary",onClick:o,children:a("Actions.Search")})]});return e.jsx(M,{title:a("Users.PageTitle"),icon:D,accentKind:"identity",topSection:g,children:l.isLoading?e.jsx(I,{fullscreen:!0}):l.data?e.jsx(q,{data:l.data,pagination:s,setPagination:r}):null})};export{he as default};
