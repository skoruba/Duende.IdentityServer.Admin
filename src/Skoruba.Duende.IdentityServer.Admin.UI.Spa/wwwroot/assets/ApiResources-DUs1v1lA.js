import{j as e}from"./ui-vendor-B17-n605.js";import{u as j}from"./useSearch-BBsz3WbR.js";import{Z as f,_ as R,B as l,$ as A,a0 as u,aa as d,a1 as C,u as w,J as N,a3 as D,f as v,L as y,j as S}from"./index-IoJ-2H-o.js";import{g as I}from"./ApiResourceServices-BT_sp93q.js";import{P as M}from"./table-Cq50mxip.js";import{u as P}from"./usePaginationTable-07dZaguv.js";import{D as T}from"./DataTable-BL4SQRvr.js";import{u as k}from"./modalHooks-CXBaxWb4.js";import{D as b}from"./DeleteApiResourceDialog-DEataJnA.js";import{u as p}from"./i18n-vendor-TY_g4tCM.js";import{E}from"./ellipsis-C_NE6PTy.js";import{j as h,L as K}from"./react-vendor-DPOhIiRq.js";import{I as L}from"./input-CwW2d8cA.js";import{C as B}from"./circle-plus-B4BOlKj3.js";import"./utils-BBmT1Bs5.js";import"./form-vendor-DdiMXTjA.js";import"./DateTimeHelper-8fem5lKY.js";import"./Card-CIv9Y096.js";import"./table-vendor-Cc_vDqy9.js";import"./useMutation-Cp5GjrFm.js";import"./DeleteDialog-DxTJNNnN.js";import"./alert-dialog-C_VuFo-A.js";import"./trash-C_wEUeTw.js";import"./circle-check-big-DCCczCwH.js";const U=({resource:s})=>{const{t:a}=p(),o=h(),r=k();return e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:[e.jsx(R,{asChild:!0,children:e.jsxs(l,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:a("Common.OpenMenu")}),e.jsx(E,{className:"h-4 w-4"})]})}),e.jsxs(A,{align:"end",children:[e.jsx(u,{onClick:()=>o(d.replace(":resourceId",s.id.toString())),children:a("Actions.Edit")}),e.jsx(C,{}),e.jsx(u,{variant:"destructive",onClick:()=>r.openModal(),children:a("Actions.Delete")})]})]}),e.jsx(b,{apiResourceId:s.id,apiResourceName:s.apiResourceName,modal:r})]})},q=({data:s,pagination:a,setPagination:o})=>{const{t:r}=p(),i=[{accessorKey:"name",header:r("ApiResources.ApiResourceName"),cell:({row:t})=>{const n=t.original;return e.jsx(K,{to:d.replace(":resourceId",n.id.toString()),className:"underline",children:n.apiResourceName})}},{id:"actions",cell:({row:t})=>e.jsx(U,{resource:t.original})}];return e.jsx(T,{columns:i,data:s.items,totalCount:s.totalCount,pagination:a,setPagination:o})},pe=()=>{const{pagination:s,setPagination:a}=P(),{t:o}=p(),r=h(),{inputValue:i,handleInputChange:t,handleSearch:n,handleInputKeyDown:x,searchTerm:m}=j({onSearchComplete:()=>{a({...s,pageIndex:0})}}),c=w([S.apiResources,s,m],()=>I(m,s.pageIndex,s.pageSize),{keepPreviousData:!0}),g=e.jsxs("div",{className:"flex flex-col space-y-3 md:flex-row md:items-center md:space-x-3 md:space-y-0",children:[e.jsxs(l,{onClick:()=>r(N),children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),o("ApiResources.AddNewApiResource")]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(L,{type:"text",placeholder:o("ApiResources.SearchPlaceholder"),className:"pr-10",value:i,onChange:t,onKeyDown:x}),e.jsx(D,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),e.jsx(l,{variant:"secondary",onClick:n,children:o("Actions.Search")})]});return e.jsx(M,{title:o("ApiResources.PageTitle"),icon:v,accentKind:"management",topSection:g,children:c.isLoading?e.jsx(y,{fullscreen:!0}):c.data?e.jsx(q,{data:c.data,pagination:s,setPagination:a}):null})};export{pe as default};
