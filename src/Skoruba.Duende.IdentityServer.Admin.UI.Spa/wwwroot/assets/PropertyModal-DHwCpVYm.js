import{j as e}from"./ui-vendor-B17-n605.js";import{a as p}from"./react-vendor-DPOhIiRq.js";import{D as f,x as k,y as g,z as P,B as C}from"./index-IoJ-2H-o.js";import{I as v}from"./input-CwW2d8cA.js";import{L as x}from"./FormRow-BJnnRaVs.js";import{z as n}from"./form-vendor-DdiMXTjA.js";import{u as D}from"./i18n-vendor-TY_g4tCM.js";const N=n.object({key:n.string().min(1),value:n.string().min(1)}),B=({isOpen:y,onClose:i,onSubmit:h})=>{const{t}=D(),[l,c]=p.useState({key:"",value:""}),[r,d]=p.useState({}),m=a=>o=>{c(s=>({...s,[a]:o.target.value})),d(s=>({...s,[a]:void 0}))},j=()=>{var o,s;const a=N.safeParse(l);if(!a.success){const u=a.error.flatten().fieldErrors;d({key:(o=u.key)==null?void 0:o[0],value:(s=u.value)==null?void 0:s[0]});return}h(a.data),c({key:"",value:""}),i()};return e.jsx(f,{open:y,onOpenChange:i,children:e.jsxs(k,{children:[e.jsx(g,{children:e.jsx(P,{children:t("Property.Actions.Add")})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"key",className:r.key?"text-destructive":"",children:t("Property.Key")}),e.jsx(v,{id:"key",placeholder:t("Property.Key"),value:l.key,autoComplete:"off",onChange:m("key"),className:r.value?"border-red-500":""}),r.key&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r.key})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"value",className:r.value?"text-destructive":"",children:t("Property.Value")}),e.jsx(v,{id:"value",placeholder:t("Property.Value"),value:l.value,onChange:m("value"),className:r.value?"border-red-500":"",autoComplete:"off"}),r.value&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:r.value})]}),e.jsx(C,{onClick:j,children:t("Property.Actions.Add")})]})]})})};export{B as P};
