import{j as e}from"./ui-vendor-B17-n605.js";import{u as S}from"./useSearch-BBsz3WbR.js";import{Z as j,_ as f,B as p,$ as A,a0 as d,ah as u,a1 as C,u as w,ab as D,a3 as v,e as N,L as y,j as I}from"./index-Wlv9NPcq.js";import{D as M,g as P}from"./DeleteApiScopeDialog-2FOUhsmb.js";import{P as k}from"./table-BSc1Zwrq.js";import{u as T}from"./usePaginationTable-07dZaguv.js";import{D as b}from"./DataTable-B0Ct-saY.js";import{u as E}from"./modalHooks-CXBaxWb4.js";import{u as l}from"./i18n-vendor-TY_g4tCM.js";import{E as K}from"./ellipsis-BlnTKBPU.js";import{j as h,L}from"./react-vendor-DPOhIiRq.js";import{I as B}from"./input-MrDDU7C5.js";import{C as U}from"./circle-plus-TAcUOAmj.js";import"./utils-BBmT1Bs5.js";import"./alert-dialog-lMowj9XJ.js";import"./useMutation-D1x_VNBj.js";import"./Hoorey-C8E0EA7s.js";import"./circle-check-big-CpdbBe68.js";import"./Card-BcwmOEhy.js";import"./table-vendor-Cc_vDqy9.js";const q=({scope:a})=>{const{t:s}=l(),o=h(),t=E();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(p,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:s("Common.OpenMenu")}),e.jsx(K,{className:"h-4 w-4"})]})}),e.jsxs(A,{align:"end",children:[e.jsx(d,{onClick:()=>o(u.replace(":scopeId",a.id.toString())),children:s("Actions.Edit")}),e.jsx(C,{}),e.jsx(d,{variant:"destructive",onClick:()=>t.openModal(),children:s("Actions.Delete")})]})]}),e.jsx(M,{apiScopeId:a.id,apiScopeName:a.name,modal:t})]})},z=({data:a,pagination:s,setPagination:o})=>{const{t}=l(),r=[{accessorKey:"name",header:t("ApiScopes.ApiScopeName"),cell:({row:n})=>{const i=n.original;return e.jsx(L,{to:u.replace(":scopeId",i.id.toString()),className:"underline",children:i.name})}},{id:"actions",cell:({row:n})=>e.jsx(q,{scope:n.original})}];return e.jsx(b,{columns:r,data:a.items,totalCount:a.totalCount,pagination:s,setPagination:o})},ie=()=>{const{pagination:a,setPagination:s}=T(),{t:o}=l(),t=h(),{inputValue:r,handleInputChange:n,handleSearch:i,handleInputKeyDown:x,searchTerm:m}=S({onSearchComplete:()=>{s({...a,pageIndex:0})}}),c=w([I.apiScopes,a,m],()=>P(m,a.pageIndex,a.pageSize),{keepPreviousData:!0}),g=e.jsxs("div",{className:"flex flex-col space-y-3 md:flex-row md:items-center md:space-x-3 md:space-y-0",children:[e.jsxs(p,{onClick:()=>t(D),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),o("ApiScopes.AddNewApiScope")]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(B,{type:"text",placeholder:o("ApiScopes.SearchPlaceholder"),className:"pr-10",value:r,onChange:n,onKeyDown:x}),e.jsx(v,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),e.jsx(p,{variant:"secondary",onClick:i,children:o("Actions.Search")})]});return e.jsx(k,{title:o("ApiScopes.PageTitle"),icon:N,accentKind:"management",topSection:g,children:c.isLoading?e.jsx(y,{fullscreen:!0}):c.data?e.jsx(z,{data:c.data,pagination:a,setPagination:s}):null})};export{ie as default};
