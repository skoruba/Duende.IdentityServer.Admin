import{j as e}from"./ui-vendor-BHgw9ghC.js";import{P as B}from"./table-BczK1sh7.js";import{u as A,D as O,f as E,d as W,e as K}from"./DeleteClientDialog-CD8wsEYJ.js";import{c as d,L as g,K as N,e as T,B as C,S,a4 as G,j as x,a5 as H,a6 as Q,l as v,V as J,d as Z,a7 as $}from"./index-DAD0hXUP.js";import{b as P,c as X,d as Y,e as ee,f as te,h as ie,u as ne,i as ae,j as se,k as le,l as re,m as oe}from"./ClientServices-BnSiIVXe.js";import{u as l,t as o}from"./i18n-vendor-CiQkzSQO.js";import{a as i,S as ce,R as de,F as ue,t as pe}from"./FormRow-BNhhe82P.js";import{a as me,b as be,u as he}from"./form-vendor-BmuYqd71.js";import{u as xe}from"./useMutation-B7qVQHXu.js";import{T as L,a as j,b as s,c as a}from"./tabs-boYuhYEm.js";import{P as Ce}from"./PropertiesForm-D3x7UFFw.js";import{D as Le}from"./DataTable-V4omrcUa.js";import{u as je}from"./usePaginationTable-CmJzaEWp.js";import{u as R}from"./modalHooks-ejr9IXPU.js";import{C as fe}from"./ClaimsModal-B-mcB61I.js";import{T as ye}from"./trash-DKFf5J9F.js";import{C as ge,a as Te,b as Se,c as ke,d as _e}from"./Card-C9DSQP6u.js";import{C as k}from"./CardWrapper-DXUMLtvD.js";import{K as U,S as ve}from"./Secrets-DkTetBJW.js";import{k as I}from"./react-vendor-BOADiDeY.js";import{G as q}from"./globe-D1W6Dy3_.js";import{T as Ie}from"./trash-2-l37Lmxoo.js";import{b as we,a as Ae}from"./useConfirmUnsavedChanges-kJttD3Z5.js";import{H as Ne}from"./Hoorey-C6uL5-tj.js";import{B as Pe}from"./Breadcrumbs-C8rpkYL4.js";import{R as Re}from"./ResourceConfigurationIssues-fAfZvm40.js";import"./DeleteDialog-Bik0suhb.js";import"./alert-dialog-CIYdOZwQ.js";import"./circle-check-big-Ciq8fzmZ.js";import"./utils-zj3SKzMM.js";import"./NumberHelper-XebQMFVY.js";import"./DateTimeHelper-QWEMCMQL.js";import"./input-ycrf_3uL.js";import"./calendar-2y-kU49Q.js";import"./circle-plus-BsVCEPVX.js";import"./PropertyModal-C6p6cdot.js";import"./table-vendor-48jR4ZlK.js";import"./SecretForm-iXRowA47.js";import"./index-CQUcgQmi.js";import"./IssueTypeBadge-tnVFP3f9.js";import"./circle-x-DjrKbhmp.js";import"./info-DXIB1L4c.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=d("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=d("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=d("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=d("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=d("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=d("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=d("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=d("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=d("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=d("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),Ee=()=>{const{t}=l(),n=P();return n.isLoading?e.jsx(g,{}):e.jsx(i,{name:"allowedGrantTypes",label:t("Client.Label.AllowedGrantTypes_Label"),description:t("Client.Label.AllowedGrantTypes_Info"),type:"dualList",dualListSettings:{initialItems:n.data??[]}})},We=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"enableLocalLogin",label:t("Client.Label.EnableLocalLogin_Label"),description:t("Client.Label.EnableLocalLogin_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"identityProviderRestrictions",label:t("Client.Label.IdentityProviderRestrictions_Label"),description:t("Client.Label.IdentityProviderRestrictions_Info"),type:"inputWithTable",includeSeparator:!0}),e.jsx(i,{name:"useSsoLifetime",label:t("Client.Label.UserSsoLifetime_Label"),description:t("Client.Label.UserSsoLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"coordinateLifetimeWithUserSession",label:t("Client.Label.CoordinateLifetimeWithUserSession_Label"),description:t("Client.Label.CoordinateLifetimeWithUserSession_Info"),type:"switch"})]})},Ke=()=>{var r;const{t}=l(),n=X();return n.isLoading?e.jsx(g,{}):e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"identityTokenLifetime",label:t("Client.Label.IdentityTokenLifetime_Label"),description:t("Client.Label.IdentityTokenLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"allowedIdentityTokenSigningAlgorithms",label:t("Client.Label.SigningAlgorithms_Label"),description:t("Client.Label.SigningAlgorithms_Info"),type:"inputWithTable",includeSeparator:!0,inputWithTableSettings:{search:!0,searchDataSource:((r=n.data)==null?void 0:r.map(u=>({id:u.value,name:u.label})))??[]}}),e.jsx(i,{name:"alwaysIncludeUserClaimsInIdToken",label:t("Client.Label.AlwaysIncludeUserClaimsInIdToken_Label"),description:t("Client.Label.AlwaysIncludeUserClaimsInIdToken_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"includeJti",label:t("Client.Label.IncludeJwtId_Label"),description:t("Client.Label.IncludeJwtId_Info"),type:"switch",includeSeparator:!0})]})},Ge=()=>{const{t}=l(),{data:n}=Y();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"accessTokenLifetime",label:t("Client.Label.AccessTokenLifetime_Label"),description:t("Client.Label.AccessTokenLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"allowAccessTokenViaBrowser",label:t("Client.Label.AllowAccessTokensViaBrowser_Label"),description:t("Client.Label.AllowAccessTokensViaBrowser_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"accessTokenType",label:t("Client.Label.AccessTokenTypes_Label"),description:t("Client.Label.AccessTokenTypes_Info"),type:"select",selectSettings:{options:n??[]},includeSeparator:!0}),e.jsx(i,{name:"authorizationCodeLifetime",label:t("Client.Label.AuthorizationCodeLifetime_Label"),description:t("Client.Label.AuthorizationCodeLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"updateAccessTokenClaimsOnRefresh",label:t("Client.Label.UpdateAccessTokenClaimsOnRefresh_Label"),description:t("Client.Label.UpdateAccessTokenClaimsOnRefresh_Info"),type:"switch",includeSeparator:!0})]})},He=()=>{const{t}=l(),{data:n}=ee(),{data:r}=te();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"absoluteRefreshTokenLifetime",label:t("Client.Label.AbsoluteRefreshTokenLifetime_Label"),description:t("Client.Label.AbsoluteRefreshTokenLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"slidingRefreshTokenLifetime",label:t("Client.Label.SlidingRefreshTokenLifetime_Label"),description:t("Client.Label.SlidingRefreshTokenLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"refreshTokenUsage",label:t("Client.Label.RefreshTokenUsage_Label"),description:t("Client.Label.RefreshTokenUsage_Info"),type:"select",selectSettings:{options:n??[]},includeSeparator:!0}),e.jsx(i,{name:"refreshTokenExpiration",label:t("Client.Label.RefreshTokenExpiration_Label"),description:t("Client.Label.RefreshTokenExpiration_Info"),type:"select",selectSettings:{options:r??[]},includeSeparator:!0})]})},Qe=()=>{const{t}=l(),{data:n}=ie();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"requireDPoP",label:t("Client.Label.RequireDPoP_Label"),description:t("Client.Label.RequireDPoP_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"dPoPClockSkew",label:t("Client.Label.DPoPClockSkew_Label"),description:t("Client.Label.DPoPClockSkew_Info"),type:"time",includeSeparator:!0}),e.jsx(i,{name:"dPoPValidationMode",label:t("Client.Label.DPoPValidationMode_Label"),description:t("Client.Label.DPoPValidationMode_Info"),type:"select",selectSettings:{options:n??[]},includeSeparator:!0})]})},Je=()=>{const{t}=l();return e.jsxs(L,{defaultValue:"identityToken",children:[e.jsxs(j,{children:[e.jsxs(s,{value:"identityToken",className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),t("Client.Tabs.IdentityToken")]}),e.jsxs(s,{value:"accessToken",className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),t("Client.Tabs.AccessToken")]}),e.jsxs(s,{value:"refreshToken",className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),t("Client.Tabs.RefreshToken")]}),e.jsxs(s,{value:"dpopSettings",className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),t("Client.Tabs.DPoPSettings")]})]}),e.jsx(a,{value:"identityToken",children:e.jsx(Ke,{})}),e.jsx(a,{value:"accessToken",children:e.jsx(Ge,{})}),e.jsx(a,{value:"refreshToken",children:e.jsx(He,{})}),e.jsx(a,{value:"dpopSettings",children:e.jsx(Qe,{})})]})},Ze=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"requireConsent",label:t("Client.Label.RequireConsent_Label"),description:t("Client.Label.RequireConsent_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"consentLifetime",label:t("Client.Label.ConsentLifetime_Label"),description:t("Client.Label.ConsentLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"allowRememberConsent",label:t("Client.Label.AllowRememberConsent_Label"),description:t("Client.Label.AllowRememberConsent_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"clientUri",label:t("Client.Label.ClientUri_Label"),description:t("Client.Label.ClientUri_Info"),type:"input",includeSeparator:!0}),e.jsx(i,{name:"logoUri",label:t("Client.Label.LogoUri_Label"),description:t("Client.Label.LogoUri_Info"),type:"input"})]})},$e=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"userCodeType",label:t("Client.Label.UserCodeType_Label"),description:t("Client.Label.UserCodeType_Info"),type:"input",includeSeparator:!0}),e.jsx(i,{name:"deviceCodeLifetime",label:t("Client.Label.DeviceCodeLifetime_Label"),description:t("Client.Label.DeviceCodeLifetime_Info"),type:"number"})]})},Xe=()=>e.jsx(Ce,{}),Ye=()=>{const{isOpen:t,openModal:n,closeModal:r}=R(),{control:u}=me(),{fields:m,append:p,remove:f}=be({control:u,name:"claims"}),{pagination:c,setPagination:y}=je(0,5),h=b=>{p({id:0,key:b.key,value:b.value}),r()},M=b=>{f(b),c.pageIndex>0&&m.length%c.pageSize===1&&y(w=>({...w,pageIndex:w.pageIndex-1}))},z=m.slice(c.pageIndex*c.pageSize,(c.pageIndex+1)*c.pageSize),{t:_}=l(),V=[{accessorKey:"key",header:_("Claim.Key")},{accessorKey:"value",header:_("Claim.Value")},{id:"actions",cell:({row:b})=>e.jsx(C,{variant:"ghost",onClick:()=>M(c.pageIndex*c.pageSize+b.index),className:"text-red-500",children:e.jsx(ye,{className:"h-4 w-4"})})}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(C,{type:"button",onClick:()=>{n()},className:"mb-4",children:_("Claim.Actions.Add")}),e.jsx(Le,{columns:V,data:z,totalCount:m.length,pagination:c,setPagination:y})]}),e.jsx(fe,{isOpen:t,onClose:r,onSubmit:h})]})},et=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(i,{name:"alwaysSendClientClaims",label:t("Client.Label.AlwaysSendClientClaims_Label"),description:t("Client.Label.AlwaysSendClientClaims_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"clientClaimsPrefix",label:t("Client.Label.ClientClaimsPrefix_Label"),description:t("Client.Label.ClientClaimsPrefix_Info"),type:"input",includeSeparator:!0})]}),e.jsx(Ye,{})]})},F=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"requireRequestObject",label:t("Client.Label.RequireRequestObject_Label"),description:t("Client.Label.RequireRequestObject_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"pairWiseSubjectSalt",label:t("Client.Label.PairWiseSubjectSalt_Label"),description:t("Client.Label.PairWiseSubjectSalt_Info"),type:"input",includeSeparator:!0}),e.jsx(i,{name:"initiateLoginUri",label:t("Client.Label.InitiateLoginUri_Label"),description:t("Client.Label.InitiateLoginUri_Info"),type:"input"})]})},tt=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"requirePushedAuthorization",label:t("Client.Label.RequirePushedAuthorization_Label"),description:t("Client.Label.RequirePushedAuthorization_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"pushedAuthorizationLifetime",label:t("Client.Label.PushedAuthorizationLifetime_Label"),description:t("Client.Label.PushedAuthorizationLifetime_Info"),type:"number",includeSeparator:!0})]})},it=()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"requirePkce",label:o("Client.Label.RequirePkce_Label"),description:o("Client.Label.RequirePkce_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"allowPlainTextPkce",label:o("Client.Label.AllowPlainTextPkce_Label"),description:o("Client.Label.AllowPlainTextPkce_Info"),type:"switch",includeSeparator:!0})]}),nt=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"cibaLifetime",label:t("Client.Label.CibaLifetime_Label"),description:t("Client.Label.CibaLifetime_Info"),type:"number",includeSeparator:!0}),e.jsx(i,{name:"pollingInterval",label:t("Client.Label.PollingInterval_Label"),description:t("Client.Label.PollingInterval_Info"),type:"number",includeSeparator:!0})]})},at=()=>e.jsxs(L,{defaultValue:"pushAuthorization",children:[e.jsxs(j,{children:[e.jsxs(s,{value:"pushAuthorization",className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4"}),o("Client.Tabs.PushAuthorization")]}),e.jsxs(s,{value:"pkce",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),o("Client.Tabs.PKCE")]}),e.jsxs(s,{value:"ciba",className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),o("Client.Tabs.CIBA")]}),e.jsxs(s,{value:"otherSettings",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),o("Client.Tabs.OtherSettings")]})]}),e.jsx(a,{value:"pushAuthorization",children:e.jsx(tt,{})}),e.jsx(a,{value:"pkce",children:e.jsx(it,{})}),e.jsx(a,{value:"ciba",children:e.jsx(nt,{})}),e.jsx(a,{value:"otherSettings",children:e.jsx(F,{})})]}),st=()=>{const{t}=l();return e.jsxs(ge,{children:[e.jsx(Te,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(D,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(Se,{className:"text-xl",children:t("Client.Tabs.Advanced")}),e.jsx(ke,{children:t("Client.Tabs.AdvancedDescription")})]})]})}),e.jsx(_e,{children:e.jsxs(L,{defaultValue:"grant_types",children:[e.jsxs(j,{children:[e.jsxs(s,{value:"grant_types",className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),t("Client.Tabs.GrantTypes")]}),e.jsxs(s,{value:"authentication_logout",className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),t("Client.Tabs.Authentication")]}),e.jsxs(s,{value:"authorization",className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),t("Client.Tabs.Authorization")]}),e.jsxs(s,{value:"token",className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),t("Client.Tabs.Tokens")]}),e.jsxs(s,{value:"consent_screen",className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4"}),t("Client.Tabs.Consent")]}),e.jsxs(s,{value:"device_flow",className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4"}),t("Client.Tabs.DeviceFlow")]}),e.jsxs(s,{value:"claims",className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4"}),t("Client.Tabs.ClientClaims")]}),e.jsxs(s,{value:"properties",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),t("Client.Tabs.ClientProperties")]})]}),e.jsx(a,{value:"grant_types",children:e.jsx(Ee,{})}),e.jsx(a,{value:"authorization",children:e.jsx(at,{})}),e.jsx(a,{value:"authentication_logout",children:e.jsx(We,{})}),e.jsx(a,{value:"token",children:e.jsx(Je,{})}),e.jsx(a,{value:"consent_screen",children:e.jsx(Ze,{})}),e.jsx(a,{value:"device_flow",children:e.jsx($e,{})}),e.jsx(a,{value:"properties",children:e.jsx(Xe,{})}),e.jsx(a,{value:"claims",children:e.jsx(et,{})}),e.jsx(a,{value:"otherSettings",children:e.jsx(F,{})})]})})]})},lt=()=>{const{t}=l();return e.jsxs(k,{title:t("Client.Tabs.Basics"),description:t("Client.Tabs.BasicsDescription"),icon:S,children:[e.jsx(i,{name:"clientId",label:t("Client.Label.ClientId_Label"),description:t("Client.Label.ClientId_Info"),placeholder:t("Client.Label.ClientId_Label"),type:"input",inputSettings:{generateRandomValue:de.ClientId,copyToClipboard:!0},required:!0,includeSeparator:!0}),e.jsx(i,{name:"clientName",label:t("Client.Label.ClientName_Label"),description:t("Client.Label.ClientName_Info"),placeholder:t("Client.Label.ClientName_Label"),type:"input",required:!0,includeSeparator:!0}),e.jsx(i,{name:"description",label:t("Client.Label.Description_Label"),description:t("Client.Label.Description_Info"),placeholder:t("Client.Label.Description_Label"),type:"textarea",includeSeparator:!0}),e.jsx(i,{name:"enabled",label:t("Client.Label.Enabled_Label"),description:t("Client.Label.Enabled_Info"),type:"switch"})]})},rt=()=>{const{t}=l(),n=ne(!1,!1);return n.isLoading?e.jsx(g,{}):e.jsx(k,{title:t("Client.Tabs.Scopes"),description:t("Client.Tabs.ScopesDescription"),icon:T,children:e.jsx(i,{name:"allowedScopes",label:t("Client.Label.AllowedScopes_Label"),description:t("Client.Label.AllowedScopes_Info"),type:"dualList",dualListSettings:{initialItems:n.data??[]},includeSeparator:!0})})},ot=()=>{const{t}=l(),{clientId:n}=I();return e.jsxs(k,{title:t("Client.Tabs.Secrets"),description:t("Client.Tabs.SecretsDescription"),icon:U,children:[e.jsx(i,{name:"requireClientSecret",label:t("Client.Label.RequireClientSecret_Label"),description:t("Client.Label.RequireClientSecret_Info"),type:"switch"}),e.jsx(i,{name:"allowOfflineAccess",label:t("Client.Label.AllowOfflineAccess_Label"),description:t("Client.Label.AllowOfflineAccess_Info"),type:"switch",includeSeparator:!0}),e.jsx(ve,{resourceId:Number(n),queryKey:[x.clientSecrets],getSecrets:le,addSecret:se,deleteSecret:ae})]})},ct=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"redirectUris",label:t("Client.Label.RedirectUris_Label"),description:t("Client.Label.RedirectUris_Info"),type:"inputWithTable",includeSeparator:!0,inputWithTableSettings:{validationSchema:A(t)}}),e.jsx(i,{name:"postLogoutRedirectUris",label:t("Client.Label.PostLogoutRedirectUris_Label"),description:t("Client.Label.PostLogoutRedirectUris_Info"),type:"inputWithTable",inputWithTableSettings:{validationSchema:A(t)}})]})},dt=()=>{const{t}=l();return e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"frontChannelLogoutUri",label:t("Client.Label.FrontChannelLogoutUri_Label"),description:t("Client.Label.FrontChannelLogoutUri_Info"),type:"input",includeSeparator:!0}),e.jsx(i,{name:"frontChannelLogoutSessionRequired",label:t("Client.Label.FrontChannelLogoutSessionRequired_Label"),description:t("Client.Label.FrontChannelLogoutSessionRequired_Info"),type:"switch",includeSeparator:!0}),e.jsx(i,{name:"backChannelLogoutUri",label:t("Client.Label.BackChannelLogoutUri_Label"),description:t("Client.Label.BackChannelLogoutUri_Info"),type:"input",includeSeparator:!0}),e.jsx(i,{name:"backChannelLogoutSessionRequired",label:t("Client.Label.BackChannelLogoutSessionRequired_Label"),description:t("Client.Label.BackChannelLogoutSessionRequired_Info"),type:"switch"})]})},ut=()=>{const{t}=l();return e.jsx(e.Fragment,{children:e.jsx(i,{name:"allowedCorsOrigins",label:t("Client.Label.AllowedCorsOrigins_Label"),description:t("Client.Label.AllowedCorsOrigins_Info"),type:"inputWithTable"})})},pt=()=>{const{t}=l();return e.jsx(k,{title:t("Client.Tabs.Urls"),description:t("Client.Tabs.UrlsDescription"),icon:q,children:e.jsxs(L,{defaultValue:"redirectUris",children:[e.jsxs(j,{children:[e.jsx(s,{value:"redirectUris",children:t("Client.Tabs.RedirectUris")}),e.jsx(s,{value:"logoutUris",children:t("Client.Tabs.LogoutUris")}),e.jsx(s,{value:"corsOrigins",children:t("Client.Tabs.CorsOrigins")})]}),e.jsx(a,{value:"redirectUris",children:e.jsx(ct,{})}),e.jsx(a,{value:"logoutUris",children:e.jsx(dt,{})}),e.jsx(a,{value:"corsOrigins",children:e.jsx(ut,{})})]})})},mt=({onClientDelete:t})=>{const{clientId:n}=I();return e.jsxs(L,{defaultValue:"basics",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(j,{children:[e.jsxs(s,{value:"basics",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),o("Client.Tabs.Basics")]}),e.jsxs(s,{value:"urls",className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),o("Client.Tabs.Urls")]}),e.jsxs(s,{value:"scopes",className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),o("Client.Tabs.Scopes")]}),e.jsxs(s,{value:"secrets",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),o("Client.Tabs.Secrets")]}),e.jsxs(s,{value:"advanced_settings",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),o("Client.Tabs.Advanced")]})]}),e.jsxs("div",{className:"inline-flex",children:[e.jsx(C,{variant:"outline",className:"ms-1 me-1",asChild:!0,children:e.jsxs("a",{href:H.replace(":clientId",n),target:"_blank",children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),o("Client.Tabs.CloneClient")]})}),e.jsxs(C,{variant:"destructive",onClick:t,type:"button",children:[e.jsx(Ie,{className:"mr-2 h-4 w-4"}),o("Client.Tabs.DeleteClient")]})]})]}),e.jsx(a,{value:"basics",children:e.jsx(lt,{})}),e.jsx(a,{value:"urls",children:e.jsx(pt,{})}),e.jsx(a,{value:"scopes",children:e.jsx(rt,{})}),e.jsx(a,{value:"secrets",children:e.jsx(ot,{})}),e.jsx(a,{value:"advanced_settings",children:e.jsx(st,{})})]})},bt=({clientId:t,client:n})=>{const r=he({resolver:pe(E),defaultValues:n}),u=we(r),{DialogCmp:m}=Ae(r.formState.isDirty),p=Q(),f=R(),c=xe(h=>re(W(h,Number(t))),{onSuccess:()=>{p.invalidateQueries(x.client),p.invalidateQueries(x.clients),p.invalidateQueries(x.configurationIssues),p.invalidateQueries(x.configurationIssuesSummary)}}),y=h=>{c.mutate(h,{onSuccess:()=>{u(v),J({title:e.jsx(Ne,{}),description:o("Client.Actions.Updated")})}})};return e.jsxs(e.Fragment,{children:[e.jsx(ue,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(y),children:[e.jsx(mt,{onClientDelete:()=>f.openModal()}),e.jsx(O,{clientId:t,clientName:n.clientName,modal:f,onClientDeleted:()=>{u(v)}}),e.jsx("div",{className:"flex gap-4 justify-start mt-4",children:e.jsx(C,{type:"submit",disabled:c.isLoading,children:o("Actions.Save")})})]})}),m]})},ni=()=>{const{t}=l(),{clientId:n}=I(),{data:r,isLoading:u}=oe(Number(n)),{data:m,isLoading:p}=P();return u||!r||p?e.jsx(g,{fullscreen:!0}):e.jsxs(B,{title:t("Client.PageTitle",{clientName:r.clientName}),description:t("Client.SubTitle"),icon:Z,accentKind:"management",breadcrumb:e.jsx(Pe,{items:[{url:v,name:t("Clients.PageTitle")},{name:t("Client.PageTitle",{clientName:r.clientName})}]}),children:[e.jsx(Re,{resourceId:Number(n),resourceType:$.Client}),e.jsx(bt,{clientId:n,client:K(r,m)})]})};export{ni as default};
