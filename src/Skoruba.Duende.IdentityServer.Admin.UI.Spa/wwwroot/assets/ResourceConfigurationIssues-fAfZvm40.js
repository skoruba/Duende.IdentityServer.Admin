import{j as s}from"./ui-vendor-BHgw9ghC.js";import{a as u}from"./react-vendor-BOADiDeY.js";import{am as I,B as h,an as r}from"./index-DAD0hXUP.js";import{I as j}from"./IssueTypeBadge-tnVFP3f9.js";import{u as y}from"./i18n-vendor-CiQkzSQO.js";const l={[r.Error]:0,[r.Warning]:1,[r.Recommendation]:2},v=({resourceId:m,resourceType:c})=>{const{t:o}=y(),[i,d]=u.useState(!0),a=Number(m),{data:n=[],isLoading:x}=I(a,c),f=u.useMemo(()=>[...n].sort((e,t)=>(l[e.issueType]??99)-(l[t.issueType]??99)),[n]);if(!Number.isFinite(a)||!n.length&&!x)return null;const g=e=>e===r.Error?o("ConfigurationIssues.IssueTypeError"):e===r.Warning?o("ConfigurationIssues.IssueTypeWarning"):o("ConfigurationIssues.IssueTypeRecommendation"),p=()=>d(e=>!e);return s.jsxs("section",{className:"mb-6 rounded-lg border border-border/50 bg-background/60 p-4 text-sm shadow-sm",children:[s.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-end sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:o("ConfigurationIssues.ResourceIssuesTitle")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o("ConfigurationIssues.ResourceIssuesSummary",{count:n.length})})]}),s.jsx(h,{variant:"ghost",size:"sm",onClick:p,children:o(i?"ConfigurationIssues.ShowIssues":"ConfigurationIssues.HideIssues")})]}),!i&&s.jsx("div",{className:"mt-4 space-y-4",children:f.map((e,t)=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex w-32 shrink-0 items-start",children:s.jsx(j,{type:e.issueType,label:g(e.issueType)})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("p",{className:"font-semibold text-foreground",children:e.message??o("ConfigurationIssues.UnknownIssueMessage")}),e.fixDescription&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsxs("span",{className:"font-medium",children:[o("ConfigurationIssues.Fix"),":"," "]}),e.fixDescription]})]})]},`${e.issueType}-${t}`))})]})};export{v as R};
