import{j as e}from"./ui-vendor-BHgw9ghC.js";import{u as j}from"./useSearch-cs-Ql7IM.js";import{c as R,Z as f,_ as y,B as l,$ as w,a0 as h,at as x,a1 as v,R as C,au as S,h as I,av as N,a3 as D,g as k,L as M,j as U}from"./index-DAD0hXUP.js";import{g as L}from"./RoleService-BxJjPvZp.js";import{P as b}from"./table-BczK1sh7.js";import{u as P}from"./usePaginationTable-CmJzaEWp.js";import{I as T}from"./input-ycrf_3uL.js";import{D as A}from"./DataTable-V4omrcUa.js";import{R as E}from"./RoleDeleteDialog-CFpdqux8.js";import{u as K}from"./modalHooks-ejr9IXPU.js";import{u as m}from"./i18n-vendor-CiQkzSQO.js";import{E as O}from"./ellipsis-D2f4vTJH.js";import{j as p,L as q}from"./react-vendor-BOADiDeY.js";import{C as z}from"./circle-plus-BsVCEPVX.js";import"./utils-zj3SKzMM.js";import"./useMutation-B7qVQHXu.js";import"./NumberHelper-XebQMFVY.js";import"./Card-C9DSQP6u.js";import"./table-vendor-48jR4ZlK.js";import"./DeleteDialog-Bik0suhb.js";import"./alert-dialog-CIYdOZwQ.js";import"./trash-DKFf5J9F.js";import"./Hoorey-C6uL5-tj.js";import"./circle-check-big-Ciq8fzmZ.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=R("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),V=({role:s})=>{const{t}=m(),o=p(),a=K();return e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:[e.jsx(y,{asChild:!0,children:e.jsxs(l,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:t("Common.OpenMenu")}),e.jsx(O,{className:"h-4 w-4"})]})}),e.jsxs(w,{align:"end",children:[e.jsx(h,{onClick:()=>o(x.replace(":roleId",s.id.toString())),children:t("Actions.Edit")}),e.jsx(v,{}),e.jsx(h,{variant:"destructive",onClick:()=>a.openModal(),children:t("Actions.Delete")})]})]}),e.jsx(E,{roleId:s.id,roleName:s.name,isOpen:a.isOpen,setIsOpen:a.setValue,onSuccess:()=>o(C)})]})},_=({data:s,pagination:t,setPagination:o})=>{const{t:a}=m(),i=p(),c=[{accessorKey:"name",header:a("Role.Section.Label.RoleName_Label"),cell:({row:r})=>{const n=r.original;return e.jsx(q,{to:x.replace(":roleId",n.id.toString()),className:"underline",children:n.name})}},{id:"users",header:a("Role.Users.UsersInRole"),cell:({row:r})=>{const n=r.original;return e.jsxs(l,{type:"button",size:"sm",variant:"outline",onClick:()=>{i(S.replace(":roleId",n.id.toString()))},children:[e.jsx(B,{className:"h-4 w-4 me-1"}),a("Role.Users.UsersInRoleShow")]})},enableSorting:!1},{id:"actions",cell:({row:r})=>e.jsx(V,{role:r.original})}];return e.jsx(A,{columns:c,data:s.items,totalCount:s.totalCount,pagination:t,setPagination:o})},he=()=>{const{pagination:s,setPagination:t}=P(),{t:o}=m(),a=p(),{inputValue:i,handleInputChange:c,handleSearch:r,handleInputKeyDown:n,searchTerm:u}=j({onSearchComplete:()=>{t({...s,pageIndex:0})}}),d=I([U.roles,s,u],()=>L(u,s.pageIndex,s.pageSize),{keepPreviousData:!0}),g=e.jsxs("div",{className:"flex flex-col space-y-3 md:flex-row md:items-center md:space-x-3 md:space-y-0",children:[e.jsxs(l,{onClick:()=>a(N),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),o("Roles.AddNewRole")]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(T,{type:"text",placeholder:o("Roles.SearchPlaceholder"),className:"pr-10",value:i,onChange:c,onKeyDown:n}),e.jsx(D,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),e.jsx(l,{variant:"secondary",onClick:r,children:o("Actions.Search")})]});return e.jsx(b,{title:o("Roles.PageTitle"),icon:k,accentKind:"identity",topSection:g,children:d.isLoading?e.jsx(M,{fullscreen:!0}):d.data?e.jsx(_,{data:d.data,pagination:s,setPagination:t}):null})};export{he as default};
