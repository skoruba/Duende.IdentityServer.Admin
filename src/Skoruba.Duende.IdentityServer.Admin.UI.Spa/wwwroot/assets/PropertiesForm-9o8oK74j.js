import{j as e}from"./ui-vendor-B17-n605.js";import{a as j,b as P,z as t}from"./form-vendor-DdiMXTjA.js";import{B as l}from"./index-Wlv9NPcq.js";import{D as b}from"./DataTable-B0Ct-saY.js";import{u as v}from"./usePaginationTable-07dZaguv.js";import{u as k}from"./modalHooks-CXBaxWb4.js";import{P as C}from"./PropertyModal-BlKWw49x.js";import{u as I}from"./i18n-vendor-TY_g4tCM.js";import{T}from"./trash-BlSZp5ex.js";t.object({properties:t.array(t.object({id:t.number(),key:t.string(),value:t.string()}))});const R=()=>{const{t:s}=I(),{isOpen:c,openModal:m,closeModal:n}=k(),{control:d}=j(),{fields:r,append:u,remove:g}=P({control:d,name:"properties"}),{pagination:o,setPagination:i}=v(0,5),x=a=>{u({id:0,key:a.key,value:a.value}),n()},y=a=>{g(a),o.pageIndex>0&&r.length%o.pageSize===1&&i(p=>({...p,pageIndex:p.pageIndex-1}))},h=r.slice(o.pageIndex*o.pageSize,(o.pageIndex+1)*o.pageSize),f=[{accessorKey:"key",header:s("Property.Key")},{accessorKey:"value",header:s("Property.Value")},{id:"actions",cell:({row:a})=>e.jsx(l,{variant:"ghost",onClick:()=>y(a.index),className:"text-red-500",children:e.jsx(T,{className:"h-4 w-4"})})}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(l,{type:"button",onClick:()=>{m()},className:"mb-4",children:s("Property.Actions.Add")}),e.jsx(b,{columns:f,data:h,totalCount:r.length,pagination:o,setPagination:i})]}),e.jsx(C,{isOpen:c,onClose:n,onSubmit:x})]})};export{R as P};
