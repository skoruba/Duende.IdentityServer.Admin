import{j as e}from"./ui-vendor-B17-n605.js";import{u as y}from"./useSearch-BBsz3WbR.js";import{Z as j,_ as I,B as l,$ as f,a0 as u,al as p,a1 as R,u as w,H as C,a3 as D,F as v,L as N,j as S}from"./index-DVaCOlPw.js";import{g as M}from"./IdentityResourceServices-DyU5Bjx1.js";import{P}from"./table-BGjshbTt.js";import{u as T}from"./usePaginationTable-07dZaguv.js";import{D as k}from"./DataTable-CuhqpYks.js";import{u as A}from"./modalHooks-CXBaxWb4.js";import{D as E}from"./DeleteIdentityResourceDialog-Bw_OO2RL.js";import{u as d}from"./i18n-vendor-TY_g4tCM.js";import{E as K}from"./ellipsis-BsexDyDf.js";import{j as h,L}from"./react-vendor-DPOhIiRq.js";import{I as b}from"./input-BXtLITbC.js";import{C as F}from"./circle-plus-DA3BdJZL.js";import"./utils-BBmT1Bs5.js";import"./form-vendor-DdiMXTjA.js";import"./Card-DWFSUPWV.js";import"./table-vendor-Cc_vDqy9.js";import"./alert-dialog-CVXOTxzg.js";import"./useMutation-B5d3wT4v.js";import"./Hoorey-DI6EUxZF.js";import"./circle-check-big-ChNQ3xjz.js";const B=({resource:t})=>{const{t:s}=d(),a=h(),n=A();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx(I,{asChild:!0,children:e.jsxs(l,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:s("Common.OpenMenu")}),e.jsx(K,{className:"h-4 w-4"})]})}),e.jsxs(f,{align:"end",children:[e.jsx(u,{onClick:()=>a(p.replace(":resourceId",t.id.toString())),children:s("Actions.Edit")}),e.jsx(R,{}),e.jsx(u,{variant:"destructive",onClick:()=>n.openModal(),children:s("Actions.Delete")})]})]}),e.jsx(E,{identityResourceId:t.id,identityResourceName:t.name,modal:n})]})},U=({data:t,pagination:s,setPagination:a})=>{const{t:n}=d(),i=[{accessorKey:"name",header:n("IdentityResources.IdentityResourceName"),cell:({row:o})=>{const r=o.original;return e.jsx(L,{to:p.replace(":resourceId",r.id.toString()),className:"underline",children:r.name})}},{id:"actions",cell:({row:o})=>e.jsx(B,{resource:o.original})}];return e.jsx(k,{columns:i,data:t.items,totalCount:t.totalCount,pagination:s,setPagination:a})},ce=()=>{const{pagination:t,setPagination:s}=T(),{t:a}=d(),n=h(),{inputValue:i,handleInputChange:o,handleSearch:r,handleInputKeyDown:x,searchTerm:m}=y({onSearchComplete:()=>{s({...t,pageIndex:0})}}),c=w([S.identityResources,t,m],()=>M(m,t.pageIndex,t.pageSize),{keepPreviousData:!0}),g=e.jsxs("div",{className:"flex flex-col space-y-3 md:flex-row md:items-center md:space-x-3 md:space-y-0",children:[e.jsxs(l,{onClick:()=>n(C),children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),a("IdentityResources.AddNewIdentityResource")]}),e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(b,{type:"text",placeholder:a("IdentityResources.SearchPlaceholder"),className:"pr-10",value:i,onChange:o,onKeyDown:x}),e.jsx(D,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),e.jsx(l,{variant:"secondary",onClick:r,children:a("Actions.Search")})]});return e.jsx(P,{title:a("IdentityResources.PageTitle"),icon:v,accentKind:"management",topSection:g,children:c.isLoading?e.jsx(N,{fullscreen:!0}):c.data?e.jsx(U,{data:c.data,pagination:t,setPagination:s}):null})};export{ce as default};
