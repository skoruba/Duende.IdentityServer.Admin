import{j as o,g as ee,S as Pt,u as ve,q as Re,o as be,s as M,W as Nt,X as Et,z as Ae,M as Rt,K as At,N as It,r as Dt,H as Lt,J as kt,Z as _t,_ as Mt,Q as Ot,y as de,U as Ft,t as O,$ as Wt}from"./ui-vendor-B17-n605.js";import{a as l}from"./react-vendor-DPOhIiRq.js";import{F as Ht,C as Ie,a as De,f as zt,r as Bt,g as Ut,u as $t,o as Vt,s as Xt,z as Yt}from"./form-vendor-DdiMXTjA.js";import{c as q,a as I,aU as qt,D as Le,x as ke,y as Gt,z as _e,B as R,aV as Zt,aW as Pe,E as Kt,aI as Jt,aX as Qt,aY as er,aZ as tr,Y as rr,a_ as or,V as nr}from"./index-ho5AqpLY.js";import{I as _}from"./input-DEnMfRfH.js";import{T as ue,a as he,b as B,c as Y,d as fe,e as U,S as sr,f as ar,g as lr,h as ir,i as cr}from"./table-Cssawl-J.js";import{C as dr,a as ur}from"./calendar-rSBHkPdR.js";import{u as W}from"./i18n-vendor-TY_g4tCM.js";import{C as hr}from"./circle-plus-B4Tpe_Kp.js";import{s as fr,d as mr}from"./DateTimeHelper-8fem5lKY.js";import{f as pr}from"./utils-BBmT1Bs5.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=q("BadgeInfo",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=q("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=q("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);var wr="Label",Oe=l.forwardRef((e,r)=>o.jsx(ee.label,{...e,ref:r,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Oe.displayName=wr;var Fe=Oe;const Sr=qt("text-sm font-medium leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),We=l.forwardRef(({className:e,...r},t)=>o.jsx(Fe,{ref:t,className:I(Sr(),e),...r}));We.displayName=Fe.displayName;const Cr=Ht,He=l.createContext({}),ze=({...e})=>o.jsx(He.Provider,{value:{name:e.name},children:o.jsx(Ie,{...e})}),te=()=>{const e=l.useContext(He),r=l.useContext(Be),{getFieldState:t,formState:n}=De(),s=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=r;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},Be=l.createContext({}),re=l.forwardRef(({className:e,...r},t)=>{const n=l.useId();return o.jsx(Be.Provider,{value:{id:n},children:o.jsx("div",{ref:t,className:I("space-y-2",e),...r})})});re.displayName="FormItem";const oe=l.forwardRef(({className:e,required:r,...t},n)=>{const{error:s,formItemId:a}=te();return o.jsxs(We,{ref:n,className:I(s&&"text-destructive",e),htmlFor:a,...t,children:[t.children,r&&o.jsx("span",{className:"text-red-500",children:" *"})]})});oe.displayName="FormLabel";const D=l.forwardRef(({...e},r)=>{const{error:t,formItemId:n,formDescriptionId:s,formMessageId:a}=te();return o.jsx(Pt,{ref:r,id:n,"aria-describedby":t?`${s} ${a}`:`${s}`,"aria-invalid":!!t,...e})});D.displayName="FormControl";const Ue=l.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:n}=te();return o.jsx("p",{ref:t,id:n,className:I("text-sm text-muted-foreground",e),...r})});Ue.displayName="FormDescription";const ge=l.forwardRef(({className:e,children:r,...t},n)=>{const{error:s,formMessageId:a}=te(),i=s?String(s==null?void 0:s.message):r;return i?o.jsx("p",{ref:n,id:a,className:I("text-sm font-medium text-destructive",e),...t,children:i}):null});ge.displayName="FormMessage";var yr=function(e,r){for(var t={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!t[i])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];t[i]={message:d.message,type:d.code}}else t[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),r){var c=t[i].types,h=c&&c[n.code];t[i]=Ut(i,r,t,s,h?[].concat(h,n.message):n.message)}e.shift()}return t},jr=function(e,r,t){return t===void 0&&(t={}),function(n,s,a){try{return Promise.resolve(function(i,d){try{var c=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(h){return a.shouldUseNativeValidation&&zt({},a),{errors:{},values:t.raw?n:h}})}catch(h){return d(h)}return c&&c.then?c.then(void 0,d):c}(0,function(i){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(i))return{values:{},errors:Bt(yr(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}};const $e=l.forwardRef(({className:e,...r},t)=>o.jsx("textarea",{className:I("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));$e.displayName="Textarea";var we="Switch",[Tr,Yo]=be(we),[Pr,Nr]=Tr(we),Ve=l.forwardRef((e,r)=>{const{__scopeSwitch:t,name:n,checked:s,defaultChecked:a,required:i,disabled:d,value:c="on",onCheckedChange:h,form:u,...f}=e,[m,p]=l.useState(null),v=ve(r,P=>p(P)),b=l.useRef(!1),C=m?u||!!m.closest("form"):!0,[S=!1,j]=Re({prop:s,defaultProp:a,onChange:h});return o.jsxs(Pr,{scope:t,checked:S,disabled:d,children:[o.jsx(ee.button,{type:"button",role:"switch","aria-checked":S,"aria-required":i,"data-state":qe(S),"data-disabled":d?"":void 0,disabled:d,value:c,...f,ref:v,onClick:M(e.onClick,P=>{j(y=>!y),C&&(b.current=P.isPropagationStopped(),b.current||P.stopPropagation())})}),C&&o.jsx(Er,{control:m,bubbles:!b.current,name:n,value:c,checked:S,required:i,disabled:d,form:u,style:{transform:"translateX(-100%)"}})]})});Ve.displayName=we;var Xe="SwitchThumb",Ye=l.forwardRef((e,r)=>{const{__scopeSwitch:t,...n}=e,s=Nr(Xe,t);return o.jsx(ee.span,{"data-state":qe(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:r})});Ye.displayName=Xe;var Er=e=>{const{control:r,checked:t,bubbles:n=!0,...s}=e,a=l.useRef(null),i=Nt(t),d=Et(r);return l.useEffect(()=>{const c=a.current,h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(i!==t&&f){const m=new Event("click",{bubbles:n});f.call(c,t),c.dispatchEvent(m)}},[i,t,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qe(e){return e?"checked":"unchecked"}var Ge=Ve,Rr=Ye;const Ze=l.forwardRef(({className:e,...r},t)=>o.jsx(Ge,{className:I("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:o.jsx(Rr,{className:I("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ze.displayName=Ge.displayName;var[ne,qo]=be("Tooltip",[Ae]),se=Ae(),Ke="TooltipProvider",Ar=700,me="tooltip.open",[Ir,Se]=ne(Ke),Je=e=>{const{__scopeTooltip:r,delayDuration:t=Ar,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,d]=l.useState(!0),c=l.useRef(!1),h=l.useRef(0);return l.useEffect(()=>{const u=h.current;return()=>window.clearTimeout(u)},[]),o.jsx(Ir,{scope:r,isOpenDelayed:i,delayDuration:t,onOpen:l.useCallback(()=>{window.clearTimeout(h.current),d(!1)},[]),onClose:l.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>d(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:l.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:a})};Je.displayName=Ke;var ae="Tooltip",[Dr,le]=ne(ae),Qe=e=>{const{__scopeTooltip:r,children:t,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:d}=e,c=Se(ae,e.__scopeTooltip),h=se(r),[u,f]=l.useState(null),m=Rt(),p=l.useRef(0),v=i??c.disableHoverableContent,b=d??c.delayDuration,C=l.useRef(!1),[S=!1,j]=Re({prop:n,defaultProp:s,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(me))):c.onClose(),a==null||a(T)}}),P=l.useMemo(()=>S?C.current?"delayed-open":"instant-open":"closed",[S]),y=l.useCallback(()=>{window.clearTimeout(p.current),p.current=0,C.current=!1,j(!0)},[j]),E=l.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j(!1)},[j]),w=l.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{C.current=!0,j(!0),p.current=0},b)},[b,j]);return l.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(At,{...h,children:o.jsx(Dr,{scope:r,contentId:m,open:S,stateAttribute:P,trigger:u,onTriggerChange:f,onTriggerEnter:l.useCallback(()=>{c.isOpenDelayed?w():y()},[c.isOpenDelayed,w,y]),onTriggerLeave:l.useCallback(()=>{v?E():(window.clearTimeout(p.current),p.current=0)},[E,v]),onOpen:y,onClose:E,disableHoverableContent:v,children:t})})};Qe.displayName=ae;var pe="TooltipTrigger",et=l.forwardRef((e,r)=>{const{__scopeTooltip:t,...n}=e,s=le(pe,t),a=Se(pe,t),i=se(t),d=l.useRef(null),c=ve(r,d,s.onTriggerChange),h=l.useRef(!1),u=l.useRef(!1),f=l.useCallback(()=>h.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(It,{asChild:!0,...i,children:o.jsx(ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:M(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:M(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:M(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:M(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:M(e.onBlur,s.onClose),onClick:M(e.onClick,s.onClose)})})});et.displayName=pe;var Lr="TooltipPortal",[Go,kr]=ne(Lr,{forceMount:void 0}),V="TooltipContent",tt=l.forwardRef((e,r)=>{const t=kr(V,e.__scopeTooltip),{forceMount:n=t.forceMount,side:s="top",...a}=e,i=le(V,e.__scopeTooltip);return o.jsx(Dt,{present:n||i.open,children:i.disableHoverableContent?o.jsx(rt,{side:s,...a,ref:r}):o.jsx(_r,{side:s,...a,ref:r})})}),_r=l.forwardRef((e,r)=>{const t=le(V,e.__scopeTooltip),n=Se(V,e.__scopeTooltip),s=l.useRef(null),a=ve(r,s),[i,d]=l.useState(null),{trigger:c,onClose:h}=t,u=s.current,{onPointerInTransitChange:f}=n,m=l.useCallback(()=>{d(null),f(!1)},[f]),p=l.useCallback((v,b)=>{const C=v.currentTarget,S={x:v.clientX,y:v.clientY},j=Wr(S,C.getBoundingClientRect()),P=Hr(S,j),y=zr(b.getBoundingClientRect()),E=Ur([...P,...y]);d(E),f(!0)},[f]);return l.useEffect(()=>()=>m(),[m]),l.useEffect(()=>{if(c&&u){const v=C=>p(C,u),b=C=>p(C,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",b)}}},[c,u,p,m]),l.useEffect(()=>{if(i){const v=b=>{const C=b.target,S={x:b.clientX,y:b.clientY},j=(c==null?void 0:c.contains(C))||(u==null?void 0:u.contains(C)),P=!Br(S,i);j?m():P&&(m(),h())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,i,h,m]),o.jsx(rt,{...e,ref:a})}),[Mr,Or]=ne(ae,{isInside:!1}),rt=l.forwardRef((e,r)=>{const{__scopeTooltip:t,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...d}=e,c=le(V,t),h=se(t),{onClose:u}=c;return l.useEffect(()=>(document.addEventListener(me,u),()=>document.removeEventListener(me,u)),[u]),l.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),o.jsx(Lt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:o.jsxs(kt,{"data-state":c.stateAttribute,...h,...d,ref:r,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(_t,{children:n}),o.jsx(Mr,{scope:t,isInside:!0,children:o.jsx(Mt,{id:c.contentId,role:"tooltip",children:s||n})})]})})});tt.displayName=V;var ot="TooltipArrow",Fr=l.forwardRef((e,r)=>{const{__scopeTooltip:t,...n}=e,s=se(t);return Or(ot,t).isInside?null:o.jsx(Ot,{...s,...n,ref:r})});Fr.displayName=ot;function Wr(e,r){const t=Math.abs(r.top-e.y),n=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),a=Math.abs(r.left-e.x);switch(Math.min(t,n,s,a)){case a:return"left";case s:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Hr(e,r,t=5){const n=[];switch(r){case"top":n.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":n.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":n.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":n.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return n}function zr(e){const{top:r,right:t,bottom:n,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:n},{x:s,y:n}]}function Br(e,r){const{x:t,y:n}=e;let s=!1;for(let a=0,i=r.length-1;a<r.length;i=a++){const d=r[a].x,c=r[a].y,h=r[i].x,u=r[i].y;c>n!=u>n&&t<(h-d)*(n-c)/(u-c)+d&&(s=!s)}return s}function Ur(e){const r=e.slice();return r.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),$r(r)}function $r(e){if(e.length<=1)return e.slice();const r=[];for(let n=0;n<e.length;n++){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var Vr=Je,Xr=Qe,Yr=et,nt=tt;const qr=Vr,Gr=Xr,Zr=Yr,st=l.forwardRef(({className:e,sideOffset:r=4,maxWidth:t,...n},s)=>o.jsx(nt,{ref:s,sideOffset:r,className:I("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{...t?{maxWidth:t}:{},...n.style},...n}));st.displayName=nt.displayName;const Kr=Vt({label:Xt().min(2)}),Jr=({isOpen:e,onClose:r,onAddItem:t})=>{const{t:n}=W(),s=$t({resolver:jr(Kr),defaultValues:{label:""}}),a=i=>{t(i.label),s.reset(),r()};return o.jsx(Le,{open:e,onOpenChange:r,children:o.jsxs(ke,{className:"sm:max-w-[900px]",children:[o.jsx(Gt,{children:o.jsx(_e,{children:n("Modals.AddCustomValue")})}),o.jsx("div",{className:"m-6",children:o.jsx(Cr,{...s,children:o.jsxs("form",{className:"space-y-8",children:[o.jsx(ze,{control:s.control,name:"label",render:({field:i})=>o.jsxs(re,{children:[o.jsx(oe,{children:n("Modals.Item")}),o.jsx(D,{children:o.jsx(_,{placeholder:n("Modals.Label"),...i})}),o.jsx(ge,{})]})}),o.jsx(R,{type:"button",onClick:s.handleSubmit(a),children:n("Actions.Save")})]})})})]})})},Qr=({initialItems:e,initialSelectedItems:r=[],onSelectedItemsChange:t})=>{const{toast:n}=Zt(),{t:s}=W(),[a,i]=l.useState([]),[d,c]=l.useState(r),[h,u]=l.useState(""),[f,m]=l.useState(""),[p,v]=l.useState(!1);l.useEffect(()=>{const x=a.filter(N=>!e.some(A=>A.id===N.id)&&!d.some(A=>A.id===N.id)),g=[...e,...d.filter(N=>!e.some(A=>A.id===N.id)),...x];i(g)},[e,d]),l.useEffect(()=>{c(r)},[r]);const b=x=>{c(x),t==null||t(x)},C=x=>{d.find(g=>g.id===x.id)||b([...d,x])},S=x=>{b(d.filter(g=>g.id!==x.id))},j=x=>{const g={id:x,label:x};if(d.some(z=>z.id===x)){n({variant:"destructive",title:`Item "${x}" is already selected`});return}a.some(z=>z.id===x)||i(z=>[...z,g]),b([...d,g]),n({title:`Item "${x}" has been added`})},P=()=>{const x=a.filter(g=>!d.find(N=>N.id===g.id));b([...d,...x])},y=()=>{b([])},E=l.useMemo(()=>a.filter(x=>!d.some(g=>g.id===x.id)),[a,d]),w=l.useMemo(()=>E.filter(x=>x.label.toLowerCase().includes(h.toLowerCase())),[E,h]),T=l.useMemo(()=>d.filter(x=>x.label.toLowerCase().includes(f.toLowerCase())),[d,f]);return o.jsxs("div",{className:"flex w-full gap-x-4",children:[o.jsxs("div",{className:"flex flex-col basis-1/2 overflow-hidden",children:[o.jsx(R,{type:"button",variant:"secondary",onClick:P,className:"mb-2",children:s("Components.DualListSelector.SelectAll")}),o.jsx(_,{value:h,onChange:x=>u(x.target.value),placeholder:s("Components.DualListSelector.SearchPlaceholder")}),o.jsx(Pe,{className:"mt-6"}),o.jsx("div",{className:"flex-grow overflow-auto max-h-[300px]",children:o.jsxs(ue,{children:[o.jsx(he,{children:o.jsx(B,{children:o.jsx(Y,{children:s("Components.DualListSelector.Name")})})}),o.jsx(fe,{children:w.map(x=>o.jsxs(B,{children:[o.jsx(U,{className:"truncate",children:x.label}),o.jsx(U,{children:o.jsx(R,{type:"button",variant:"secondary",onClick:()=>C(x),children:o.jsx(vr,{})})})]},x.id))})]})})]}),o.jsxs("div",{className:"flex flex-col basis-1/2 overflow-hidden pl-2",children:[o.jsx(R,{type:"button",onClick:y,variant:"destructive",className:"mb-2",children:s("Components.DualListSelector.DeselectAll")}),o.jsx(_,{value:f,onChange:x=>m(x.target.value),placeholder:s("Components.DualListSelector.SearchPlaceholder")}),o.jsx(Pe,{className:"mt-6"}),o.jsx("div",{className:"flex-grow overflow-auto max-h-[300px]",children:o.jsxs(ue,{children:[o.jsx(he,{children:o.jsxs(B,{children:[o.jsx(Y,{children:s("Components.DualListSelector.Name")}),o.jsx(Y,{className:"flex justify-end",children:o.jsxs(R,{onClick:()=>v(!0),variant:"secondary",className:"ms-4 mt-1",type:"button",children:[o.jsx(hr,{className:"w-5 h-5 me-1"})," ",s("Actions.Add")]})})]})}),o.jsx(fe,{children:T.map(x=>o.jsxs(B,{children:[o.jsx(U,{children:o.jsx(R,{variant:"destructive",onClick:()=>S(x),type:"button",children:o.jsx(xr,{})})}),o.jsx(U,{className:"truncate",children:x.label})]},x.id))})]})}),o.jsx(Jr,{isOpen:p,onClose:()=>v(!1),onAddItem:j})]})]})},eo=({control:e,name:r,initialItems:t,initialSelectedItems:n=[]})=>o.jsx(Ie,{control:e,name:r,render:({field:{onChange:s,value:a}})=>o.jsx(Qr,{initialItems:t,initialSelectedItems:a||n,onSelectedItemsChange:i=>s(i)})});function Ne(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function at(...e){return r=>{let t=!1;const n=e.map(s=>{const a=Ne(s,r);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Ne(e[s],null)}}}}function H(...e){return l.useCallback(at(...e),e)}var lt=l.forwardRef((e,r)=>{const{children:t,...n}=e,s=l.Children.toArray(t),a=s.find(ro);if(a){const i=a.props.children,d=s.map(c=>c===a?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:c);return o.jsx(xe,{...n,ref:r,children:l.isValidElement(i)?l.cloneElement(i,void 0,d):null})}return o.jsx(xe,{...n,ref:r,children:t})});lt.displayName="Slot";var xe=l.forwardRef((e,r)=>{const{children:t,...n}=e;if(l.isValidElement(t)){const s=no(t);return l.cloneElement(t,{...oo(n,t.props),ref:r?at(r,s):s})}return l.Children.count(t)>1?l.Children.only(null):null});xe.displayName="SlotClone";var to=({children:e})=>o.jsx(o.Fragment,{children:e});function ro(e){return l.isValidElement(e)&&e.type===to}function oo(e,r){const t={...r};for(const n in r){const s=e[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?t[n]=(...d)=>{a(...d),s(...d)}:s&&(t[n]=s):n==="style"?t[n]={...s,...a}:n==="className"&&(t[n]=[s,a].filter(Boolean).join(" "))}return{...e,...t}}function no(e){var n,s;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var so=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],G=so.reduce((e,r)=>{const t=l.forwardRef((n,s)=>{const{asChild:a,...i}=n,d=a?lt:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...i,ref:s})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function ao(e,r){return l.useReducer((t,n)=>r[t][n]??t,e)}var Z=e=>{const{present:r,children:t}=e,n=lo(r),s=typeof t=="function"?t({present:n.isPresent}):l.Children.only(t),a=H(n.ref,io(s));return typeof t=="function"||n.isPresent?l.cloneElement(s,{ref:a}):null};Z.displayName="Presence";function lo(e){const[r,t]=l.useState(),n=l.useRef({}),s=l.useRef(e),a=l.useRef("none"),i=e?"mounted":"unmounted",[d,c]=ao(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const h=K(n.current);a.current=d==="mounted"?h:"none"},[d]),de(()=>{const h=n.current,u=s.current;if(u!==e){const m=a.current,p=K(h);e?c("MOUNT"):p==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),de(()=>{if(r){let h;const u=r.ownerDocument.defaultView??window,f=p=>{const b=K(n.current).includes(p.animationName);if(p.target===r&&b&&(c("ANIMATION_END"),!s.current)){const C=r.style.animationFillMode;r.style.animationFillMode="forwards",h=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=C)})}},m=p=>{p.target===r&&(a.current=K(n.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{u.clearTimeout(h),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:l.useCallback(h=>{h&&(n.current=getComputedStyle(h)),t(h)},[])}}function K(e){return(e==null?void 0:e.animationName)||"none"}function io(e){var n,s;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function F(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e==null||e(s),t===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function co(e,r){return l.useReducer((t,n)=>r[t][n]??t,e)}var Ce="ScrollArea",[it,Zo]=be(Ce),[uo,L]=it(Ce),ct=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[d,c]=l.useState(null),[h,u]=l.useState(null),[f,m]=l.useState(null),[p,v]=l.useState(null),[b,C]=l.useState(null),[S,j]=l.useState(0),[P,y]=l.useState(0),[E,w]=l.useState(!1),[T,x]=l.useState(!1),g=H(r,A=>c(A)),N=Ft(s);return o.jsx(uo,{scope:t,type:n,dir:N,scrollHideDelay:a,scrollArea:d,viewport:h,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:w,scrollbarY:b,onScrollbarYChange:C,scrollbarYEnabled:T,onScrollbarYEnabledChange:x,onCornerWidthChange:j,onCornerHeightChange:y,children:o.jsx(G.div,{dir:N,...i,ref:g,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":P+"px",...e.style}})})});ct.displayName=Ce;var dt="ScrollAreaViewport",ut=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,children:n,nonce:s,...a}=e,i=L(dt,t),d=l.useRef(null),c=H(r,d,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(G.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ut.displayName=dt;var k="ScrollAreaScrollbar",ye=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=L(k,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,d=e.orientation==="horizontal";return l.useEffect(()=>(d?a(!0):i(!0),()=>{d?a(!1):i(!1)}),[d,a,i]),s.type==="hover"?o.jsx(ho,{...n,ref:r,forceMount:t}):s.type==="scroll"?o.jsx(fo,{...n,ref:r,forceMount:t}):s.type==="auto"?o.jsx(ht,{...n,ref:r,forceMount:t}):s.type==="always"?o.jsx(je,{...n,ref:r}):null});ye.displayName=k;var ho=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=L(k,e.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const d=s.scrollArea;let c=0;if(d){const h=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Z,{present:t||a,children:o.jsx(ht,{"data-state":a?"visible":"hidden",...n,ref:r})})}),fo=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=L(k,e.__scopeScrollArea),a=e.orientation==="horizontal",i=ce(()=>c("SCROLL_END"),100),[d,c]=co("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,s.scrollHideDelay,c]),l.useEffect(()=>{const h=s.viewport,u=a?"scrollLeft":"scrollTop";if(h){let f=h[u];const m=()=>{const p=h[u];f!==p&&(c("SCROLL"),i()),f=p};return h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(Z,{present:t||d!=="hidden",children:o.jsx(je,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:F(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:F(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ht=l.forwardRef((e,r)=>{const t=L(k,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=l.useState(!1),d=e.orientation==="horizontal",c=ce(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?h:u)}},10);return X(t.viewport,c),X(t.content,c),o.jsx(Z,{present:n||a,children:o.jsx(je,{"data-state":a?"visible":"hidden",...s,ref:r})})}),je=l.forwardRef((e,r)=>{const{orientation:t="vertical",...n}=e,s=L(k,e.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[d,c]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=vt(d.viewport,d.content),u={...n,sizes:d,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return go(m,i.current,d,p)}return t==="horizontal"?o.jsx(mo,{...u,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=Ee(m,d,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):t==="vertical"?o.jsx(po,{...u,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=Ee(m,d);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),mo=l.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...s}=e,a=L(k,e.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=H(r,c,a.onScrollbarXChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),o.jsx(mt,{"data-orientation":"horizontal",...s,ref:h,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ie(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),gt(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Q(i.paddingLeft),paddingEnd:Q(i.paddingRight)}})}})}),po=l.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...s}=e,a=L(k,e.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=H(r,c,a.onScrollbarYChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),o.jsx(mt,{"data-orientation":"vertical",...s,ref:h,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ie(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),gt(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Q(i.paddingTop),paddingEnd:Q(i.paddingBottom)}})}})}),[xo,ft]=it(k),mt=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:h,onWheelScroll:u,onResize:f,...m}=e,p=L(k,t),[v,b]=l.useState(null),C=H(r,g=>b(g)),S=l.useRef(null),j=l.useRef(""),P=p.viewport,y=n.content-n.viewport,E=O(u),w=O(c),T=ce(f,10);function x(g){if(S.current){const N=g.clientX-S.current.left,A=g.clientY-S.current.top;h({x:N,y:A})}}return l.useEffect(()=>{const g=N=>{const A=N.target;(v==null?void 0:v.contains(A))&&E(N,y)};return document.addEventListener("wheel",g,{passive:!1}),()=>document.removeEventListener("wheel",g,{passive:!1})},[P,v,y,E]),l.useEffect(w,[n,w]),X(v,T),X(p.content,T),o.jsx(xo,{scope:t,scrollbar:v,hasThumb:s,onThumbChange:O(a),onThumbPointerUp:O(i),onThumbPositionChange:w,onThumbPointerDown:O(d),children:o.jsx(G.div,{...m,ref:C,style:{position:"absolute",...m.style},onPointerDown:F(e.onPointerDown,g=>{g.button===0&&(g.target.setPointerCapture(g.pointerId),S.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),x(g))}),onPointerMove:F(e.onPointerMove,x),onPointerUp:F(e.onPointerUp,g=>{const N=g.target;N.hasPointerCapture(g.pointerId)&&N.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),S.current=null})})})}),J="ScrollAreaThumb",pt=l.forwardRef((e,r)=>{const{forceMount:t,...n}=e,s=ft(J,e.__scopeScrollArea);return o.jsx(Z,{present:t||s.hasThumb,children:o.jsx(vo,{ref:r,...n})})}),vo=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,style:n,...s}=e,a=L(J,t),i=ft(J,t),{onThumbPositionChange:d}=i,c=H(r,f=>i.onThumbChange(f)),h=l.useRef(void 0),u=ce(()=>{h.current&&(h.current(),h.current=void 0)},100);return l.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(u(),!h.current){const p=wo(f,d);h.current=p,d()}};return d(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,u,d]),o.jsx(G.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:F(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,b=f.clientY-p.top;i.onThumbPointerDown({x:v,y:b})}),onPointerUp:F(e.onPointerUp,i.onThumbPointerUp)})});pt.displayName=J;var Te="ScrollAreaCorner",xt=l.forwardRef((e,r)=>{const t=L(Te,e.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?o.jsx(bo,{...e,ref:r}):null});xt.displayName=Te;var bo=l.forwardRef((e,r)=>{const{__scopeScrollArea:t,...n}=e,s=L(Te,t),[a,i]=l.useState(0),[d,c]=l.useState(0),h=!!(a&&d);return X(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),X(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),h?o.jsx(G.div,{...n,ref:r,style:{width:a,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Q(e){return e?parseInt(e,10):0}function vt(e,r){const t=e/r;return isNaN(t)?0:t}function ie(e){const r=vt(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-t)*r;return Math.max(n,18)}function go(e,r,t,n="ltr"){const s=ie(t),a=s/2,i=r||a,d=s-i,c=t.scrollbar.paddingStart+i,h=t.scrollbar.size-t.scrollbar.paddingEnd-d,u=t.content-t.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return bt([c,h],f)(e)}function Ee(e,r,t="ltr"){const n=ie(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=r.scrollbar.size-s,i=r.content-r.viewport,d=a-n,c=t==="ltr"?[0,i]:[i*-1,0],h=Wt(e,c);return bt([0,i],[0,d])(h)}function bt(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}function gt(e,r){return e>0&&e<r}var wo=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=t.left!==a.left,d=t.top!==a.top;(i||d)&&r(),t=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ce(e,r){const t=O(e),n=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),l.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function X(e,r){const t=O(r);de(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,t])}var wt=ct,So=ut,Co=xt;const St=l.forwardRef(({className:e,children:r,...t},n)=>o.jsxs(wt,{ref:n,className:I("relative overflow-hidden",e),...t,children:[o.jsx(So,{className:"h-full w-full rounded-[inherit]",children:r}),o.jsx(Ct,{}),o.jsx(Co,{})]}));St.displayName=wt.displayName;const Ct=l.forwardRef(({className:e,orientation:r="vertical",...t},n)=>o.jsx(ye,{ref:n,orientation:r,className:I("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:o.jsx(pt,{className:"relative flex-1 rounded-full bg-border"})}));Ct.displayName=ye.displayName;function yt({items:e,value:r="",onChange:t,inputProps:n}){const{t:s}=W(),[a,i]=l.useState(r),[d,c]=l.useState(!1);l.useEffect(()=>{i(r)},[r]);const h=a?e.filter(f=>f.name.toLowerCase().includes(a.toLowerCase())):e,u=f=>{i(f),t(f)};return o.jsxs("div",{className:"relative w-full",children:[o.jsx("div",{className:"flex gap-2 mb-2",children:o.jsx(_,{type:"text",placeholder:s("Components.SearchDropdown.Search"),value:a,onChange:f=>u(f.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),...n})}),d&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-popover border border-border rounded-md shadow-lg",children:o.jsx(St,{className:"h-[320px]",children:h.map(f=>o.jsx("div",{className:"flex items-center p-2 cursor-pointer hover:bg-accent",onClick:()=>{u(f.name),c(!1)},children:o.jsx("span",{children:f.name})},f.id))})})]})}const yo=({value:e=[],onChange:r,validationSchema:t,search:n=!1,searchDataSource:s=[]})=>{const{t:a}=W(),[i,d]=l.useState(e||[]),[c,h]=l.useState(""),[u,f]=l.useState(""),[m,p]=l.useState(null),[v,b]=l.useState(null),[C,S]=l.useState(null);l.useEffect(()=>{d(e||[])},[e]);const j=w=>{const x=(t||Yt.string().min(1,a("Components.InputWithTable.ItemCannotBeEmpty"))).safeParse(w);return x.success?null:x.error.errors[0].message},P=()=>{const w=j(c);if(w){b(w);return}const T=[...i,c];d(T),r(T),h(""),b(null)},y=()=>{if(m===null)return;const w=j(u);if(w){S(w);return}const T=[...i];T[m]=u,d(T),r(T),f(""),p(null),S(null)},E=w=>{const T=i.filter((x,g)=>g!==w);d(T),r(T)};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex",children:[n?o.jsx(yt,{items:s,value:c,onChange:w=>h(w)}):o.jsx(_,{value:c,onChange:w=>h(w.target.value),placeholder:a("Components.InputWithTable.EnterItem"),className:v?"input-error":"",onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),P())}}),o.jsx(R,{onClick:P,type:"button",className:"ms-1",variant:"outline",children:a("Components.InputWithTable.AddItem")})]}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-medium text-destructive mt-2",children:v})}),i.length!==0&&o.jsx("div",{children:o.jsxs(ue,{children:[o.jsx(he,{children:o.jsxs(B,{children:[o.jsx(Y,{children:a("Components.InputWithTable.Item")}),o.jsx(Y,{children:a("Components.InputWithTable.Actions")})]})}),o.jsx(fe,{children:i.map((w,T)=>o.jsxs(B,{children:[o.jsx(U,{children:w}),o.jsxs(U,{children:[o.jsx(R,{type:"button",className:"me-2",variant:"secondary",onClick:()=>{p(T),f(w)},children:a("Actions.Edit")}),o.jsx(R,{variant:"destructive",onClick:()=>E(T),type:"button",children:a("Actions.Delete")})]})]},T))})]})}),m!==null&&o.jsx(Le,{open:m!==null,children:o.jsxs(ke,{children:[o.jsx(_e,{children:a("Components.InputWithTable.Edit")}),o.jsx(Kt,{children:a("Components.InputWithTable.UpdateSave")}),o.jsx(_,{value:u,onChange:w=>f(w.target.value),placeholder:a("Components.InputWithTable.EditItem")}),C&&o.jsx("p",{className:"text-sm font-medium text-destructive mt-2",children:C}),o.jsxs(Jt,{children:[o.jsx(R,{onClick:y,children:a("Actions.Save")}),o.jsx(Qt,{asChild:!0,children:o.jsx(R,{type:"button",onClick:()=>{p(null),f(""),S(null)},children:a("Actions.Cancel")})})]})]})})]})};var $=(e=>(e[e.None=0]="None",e[e.ClientId=1]="ClientId",e[e.SharedSecret=2]="SharedSecret",e))($||{});const jt=e=>Array.from(crypto.getRandomValues(new Uint8Array(e))).map(r=>r.toString(16).padStart(2,"0")).join(""),jo=()=>`client_${jt(16)}`,To=()=>`secret_${jt(32)}`,Tt=({children:e,description:r,side:t="right"})=>o.jsx(qr,{delayDuration:200,children:o.jsxs(Gr,{children:[o.jsx(Zr,{asChild:!0,children:e}),o.jsx(st,{side:t,maxWidth:"600px",children:o.jsx("p",{children:r})})]})}),Po=({field:e,label:r,description:t,required:n})=>o.jsxs(re,{className:"flex flex-row items-center justify-between rounded-lg border p-4 mt-4",children:[o.jsx("div",{className:"space-y-0.5",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(oe,{required:n,children:r}),t&&o.jsx(Tt,{description:t,children:o.jsx(Me,{className:"ml-2 text-muted-foreground cursor-pointer",size:16})})]})}),o.jsx(D,{children:o.jsx(Ze,{checked:!!e.value,onCheckedChange:e.onChange})})]}),No=({field:e,placeholder:r,generateRandomValue:t,copyToClipboard:n,maxLength:s,inputType:a="text"})=>{const{t:i}=W(),d=()=>{e.value!==null&&e.value!==void 0&&navigator.clipboard.writeText(String(e.value)).then(()=>{nr({title:i("Components.FormRow.CopiedToClipboard")})})},c=()=>{t===$.SharedSecret?e.onChange(To()):t===$.ClientId&&e.onChange(jo())};return o.jsx(D,{children:o.jsxs("div",{className:t?"flex":"",children:[o.jsx(_,{placeholder:r,name:e.name,value:typeof e.value=="string"||typeof e.value=="number"?e.value:"",onChange:e.onChange,onBlur:e.onBlur,ref:e.ref,autoComplete:"off",maxLength:s,type:a}),[$.ClientId,$.SharedSecret].includes(t)&&o.jsx(R,{type:"button",onClick:c,className:"ms-1",variant:"outline",children:o.jsx(gr,{})}),n&&o.jsx(R,{type:"button",variant:"outline",onClick:d,className:"ms-1",disabled:e.value===null||e.value===void 0||e.value==="",children:o.jsx(br,{})})]})})},Eo=({field:e,placeholder:r,maxLength:t})=>o.jsx(D,{children:o.jsx($e,{placeholder:r,name:e.name,value:typeof e.value=="string"?e.value:"",onChange:e.onChange,onBlur:e.onBlur,ref:e.ref,className:"resize-none",maxLength:t})}),Ro=({field:e,options:r})=>{const{t}=W();return o.jsx(D,{children:o.jsxs(sr,{onValueChange:e.onChange,defaultValue:typeof e.value=="string"?e.value:void 0,value:typeof e.value=="string"?e.value:"",children:[o.jsx(ar,{children:o.jsx(lr,{placeholder:t("Components.FormRow.SelectOption")})}),o.jsx(ir,{children:r.map(n=>o.jsx(cr,{value:n.value,children:n.label},n.value))})]})})},Ao=({field:e,control:r,initialItems:t})=>o.jsx(D,{children:o.jsx(eo,{control:r,initialItems:t,name:e.name})}),Io=({field:e})=>{const{t:r}=W(),t=e.value instanceof Date?e.value:void 0,n=s=>{s.stopPropagation(),e.onChange(null)};return o.jsx(D,{children:o.jsxs(er,{children:[o.jsx(tr,{asChild:!0,children:o.jsx("div",{className:"relative w-full",children:o.jsxs(R,{type:"button",variant:"outline",className:I("w-full pl-3 pr-10 justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[t?pr(t,"PPP"):o.jsx("span",{children:r("Components.FormRow.PickDate")}),o.jsx(dr,{className:"absolute right-8 top-1/2 h-4 w-4 -translate-y-1/2 opacity-50"}),t&&o.jsx("span",{onClick:n,className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-destructive cursor-pointer",children:o.jsx(rr,{className:"h-4 w-4"})})]})})}),o.jsx(or,{className:"w-auto p-0",align:"start",children:o.jsx(ur,{mode:"single",selected:t,onSelect:s=>e.onChange(s??null),initialFocus:!0})})]})})},Do=({field:e})=>o.jsx(D,{children:o.jsx(_,{type:"time",value:typeof e.value=="string"?e.value:"",onChange:e.onChange,onBlur:e.onBlur,ref:e.ref,className:"w-full"})}),Lo=({field:e,placeholder:r,showFormattedTime:t=!0})=>o.jsxs(o.Fragment,{children:[o.jsx(D,{children:o.jsx(_,{type:"number",value:typeof e.value=="number"||typeof e.value=="string"?e.value:"",onChange:n=>{const s=n.target.value;e.onChange(s===""?void 0:Number(s))},onBlur:e.onBlur,ref:e.ref,className:"w-full",placeholder:r})}),t&&typeof e.value=="number"&&o.jsx(Ue,{className:"ms-2",children:fr({seconds:e.value,labels:mr})})]}),ko=({field:e,validationSchema:r,search:t,searchDataSource:n})=>o.jsx(D,{children:o.jsx(yo,{value:Array.isArray(e.value)?e.value:void 0,onChange:e.onChange,validationSchema:r,search:t,searchDataSource:n})}),_o=({field:e,items:r})=>o.jsx(D,{children:o.jsx(yt,{items:r,value:typeof e.value=="string"?e.value:"",onChange:e.onChange})}),Ko=({name:e,label:r,description:t,placeholder:n,className:s,required:a=!1,type:i="input",selectSettings:{options:d}={options:[]},inputSettings:{copyToClipboard:c=!1,generateRandomValue:h=$.None}={},dualListSettings:{initialItems:u}={initialItems:[]},searchDropdownSettings:{items:f}={items:[]},includeSeparator:m=!1,inputWithTableSettings:{validationSchema:p,search:v,searchDataSource:b}={validationSchema:void 0,search:!1,searchDataSource:[]},numberSettings:{showFormattedTime:C=!0}={},maxLength:S,inputType:j="text"})=>{const{control:P}=De();return o.jsxs(o.Fragment,{children:[o.jsx(ze,{control:P,name:e,render:({field:y})=>o.jsx(o.Fragment,{children:i==="switch"?o.jsx(Po,{field:y,label:r,description:t,required:a}):o.jsxs(re,{className:s,children:[o.jsxs("div",{className:"flex items-center mt-4",children:[o.jsx(oe,{required:a,children:r}),t&&o.jsx(Tt,{description:t,children:o.jsx(Me,{className:"ml-2 text-muted-foreground cursor-pointer",size:16})})]}),i==="input"&&o.jsx(No,{field:y,placeholder:n,generateRandomValue:h,copyToClipboard:c,maxLength:S,inputType:j}),i==="textarea"&&o.jsx(Eo,{field:y,placeholder:n}),i==="select"&&o.jsx(Ro,{field:y,options:d}),i==="dualList"&&o.jsx(Ao,{field:y,control:P,initialItems:u}),i==="searchDropdown"&&o.jsx(_o,{field:y,items:f}),i==="date"&&o.jsx(Io,{field:y}),i==="time"&&o.jsx(Do,{field:y}),i==="number"&&o.jsx(Lo,{field:y,placeholder:n,showFormattedTime:C}),i==="inputWithTable"&&o.jsx(ko,{field:y,validationSchema:p,search:v,searchDataSource:b}),o.jsx(ge,{})]})})}),m&&o.jsx("hr",{className:"my-4"})]})};export{vr as A,Cr as F,We as L,$ as R,gr as S,Tt as T,Ko as a,yt as b,Ze as c,jr as t};
