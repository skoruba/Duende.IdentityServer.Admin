import{j as e}from"./ui-vendor-B17-n605.js";import{a as v}from"./react-vendor-DPOhIiRq.js";import{D as g,x as k,y as D,z as N,L as b,B as E}from"./index-IoJ-2H-o.js";import{I as S}from"./input-CwW2d8cA.js";import{L as h,b as A}from"./FormRow-BJnnRaVs.js";import{z as d}from"./form-vendor-DdiMXTjA.js";import{p as F}from"./ClientServices-DHWtBFT7.js";import{u as L}from"./i18n-vendor-TY_g4tCM.js";const w=d.object({key:d.string().min(1),value:d.string().min(1)}),K=({isOpen:x,onClose:m,onSubmit:j})=>{var u;const{t:o}=L(),[l,n]=v.useState({key:"",value:""}),[s,i]=v.useState({}),c=F(),C=a=>t=>{n(r=>({...r,[a]:t.target.value})),i(r=>({...r,[a]:void 0}))},f=a=>{n(t=>({...t,key:a})),i(t=>({...t,key:void 0}))},y=()=>{var t,r;const a=w.safeParse(l);if(!a.success){const p=a.error.flatten().fieldErrors;i({key:(t=p.key)==null?void 0:t[0],value:(r=p.value)==null?void 0:r[0]});return}j(a.data),n({key:"",value:""}),m()};return e.jsx(g,{open:x,onOpenChange:m,children:e.jsxs(k,{onOpenAutoFocus:a=>a.preventDefault(),children:[e.jsx(D,{children:e.jsx(N,{children:o("Claim.Actions.Add")})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"key",className:s.key?"text-destructive":"",children:o("Claim.Key")}),c.isLoading?e.jsx(b,{}):e.jsx(A,{items:((u=c.data)==null?void 0:u.map(a=>({id:a,name:a})))??[],value:l.key,onChange:f,inputProps:{className:s.key?"border-red-500":"",autoComplete:"off"}}),s.key&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:s.key})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"value",className:s.value?"text-destructive":"",children:o("Claim.Value")}),e.jsx(S,{id:"value",placeholder:o("Claim.EnterValuePlaceholder"),value:l.value,autoComplete:"off",onChange:C("value"),className:s.value?"border-red-500":""}),s.value&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:s.value})]}),e.jsx(E,{onClick:y,children:o("Claim.Actions.Add")})]})]})})};export{K as C};
